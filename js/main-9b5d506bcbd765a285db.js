(()=>{"use strict";var e,t,n,o={1181:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(8081),r=n.n(o),a=n(3645),l=n.n(a)()(r());l.push([e.id,".Button {\n  display: inline-block;\n  font-weight: 400;\n  text-align: center;\n  white-space: nowrap;\n  user-select: none;\n  border: 1px solid transparent;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  line-height: 1.5;\n  border-radius: 0.25rem;\n}\n.Button_block {\n  width: 100%;\n}\n.Button_primary {\n  color: #fff;\n  background-color: #007bff;\n  border-color: #007bff;\n}\n.Button_secondary {\n  color: #fff;\n  background-color: #6c757d;\n  border-color: #6c757d;\n}\n.Button_disabled {\n  color: rgba(255, 255, 255, 0.5);\n  background-color: rgba(108, 117, 125, 0.6);\n  border-color: transparent;\n  cursor: not-allowed;\n}\n",""]);const i=l},9825:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(8081),r=n.n(o),a=n(3645),l=n.n(a)()(r());l.push([e.id,".form-input {\n  display: block;\n  width: 100%;\n  height: calc(2.25rem + 2px);\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  line-height: 1.5;\n  color: #495057;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n",""]);const i=l},2652:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(8081),r=n.n(o),a=n(3645),l=n.n(a)()(r());l.push([e.id,".modal {\n  padding: 5px;\n  border: 1px solid black;\n  display: none;\n}\n.modal_entering {\n  display: block;\n  opacity: 0;\n  transition: opacity 0.2s;\n}\n.modal_open {\n  display: block;\n  opacity: 1;\n}\n.modal_leaving {\n  opacity: 0;\n  transition: opacity 0.2s;\n}\n",""]);const i=l},5641:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(8081),r=n.n(o),a=n(3645),l=n.n(a)()(r());l.push([e.id,".popup {\n  border: 2px solid #ececec;\n  width: 470px;\n  position: absolute;\n  background-color: lightgray;\n  box-shadow: 0 0 60px 0 rgba(0, 0, 0, 0.5);\n  display: none;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%) scale(0);\n  z-index: 1001;\n}\n.popup_entering {\n  display: block;\n  transition: transform ease 0.15s;\n  transform: translate(-50%, -50%) scale(0);\n}\n.popup_open {\n  display: block;\n  transform: translate(-50%, -50%) scale(1);\n}\n.popup_leaving {\n  transition: transform ease 0.15s;\n  transform: translate(-50%, -50%) scale(0);\n}\n.popup-body {\n  padding: 30px 24px 24px 24px;\n}\n.popup-content {\n  display: flex;\n}\n.popup-content__icon {\n  flex-grow: 0;\n  margin-right: 18px;\n}\n.popup-content__text {\n  flex-grow: 1;\n  max-height: 200px;\n  overflow: auto;\n}\n.popup-bg {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: none;\n  z-index: 1000;\n}\n.popup-bg_entering {\n  display: block;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n.popup-bg_open {\n  display: block;\n  opacity: 1;\n}\n.popup-bg_leaving {\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n",""]);const i=l},4644:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(8081),r=n.n(o),a=n(3645),l=n.n(a)()(r());l.push([e.id,".popup-buttons-container {\n  padding-top: 50px;\n  text-align: right;\n}\n",""]);const i=l},7220:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(8081),r=n.n(o),a=n(3645),l=n.n(a)()(r());l.push([e.id,".popup-title {\n  padding: 15px;\n  background-color: #ececec;\n  display: flex;\n}\n.popup-title-section {\n  flex-grow: 1;\n  position: relative;\n}\n.popup-title-section:last-child {\n  flex-grow: 0;\n}\n.popup-title-text {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  position: absolute;\n  left: 0;\n  right: 15px;\n}\n.popup-title-close {\n  background: none;\n  color: inherit;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  outline: inherit;\n  flex-grow: 0;\n}\n",""]);const i=l},7237:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(8081),r=n.n(o),a=n(3645),l=n.n(a)()(r());l.push([e.id,".ClearButton {\n  border: none;\n  margin: 0;\n  padding: 0;\n  width: auto;\n  overflow: visible;\n  background: transparent;\n  cursor: pointer;\n  /* inherit font & color from ancestor */\n  color: inherit;\n  font: inherit;\n  /* Normalize 'line-height'. Cannot be changed from 'normal' in Firefox 4+. */\n  line-height: normal;\n  /* Corrects font smoothing for webkit */\n  -webkit-font-smoothing: inherit;\n  -moz-osx-font-smoothing: inherit;\n  /* Corrects inability to style clickable 'input' types in iOS */\n  -webkit-appearance: none;\n}\n.MenuButton {\n  border: none;\n  margin: 0;\n  padding: 0;\n  width: auto;\n  overflow: visible;\n  background: transparent;\n  cursor: pointer;\n  /* inherit font & color from ancestor */\n  color: inherit;\n  font: inherit;\n  /* Normalize 'line-height'. Cannot be changed from 'normal' in Firefox 4+. */\n  line-height: normal;\n  /* Corrects font smoothing for webkit */\n  -webkit-font-smoothing: inherit;\n  -moz-osx-font-smoothing: inherit;\n  /* Corrects inability to style clickable 'input' types in iOS */\n  -webkit-appearance: none;\n  background-color: #d3d3d3;\n  padding: 4px 6px;\n  border-radius: 3px;\n  float: left;\n  margin-right: 5px;\n  outline: none;\n  display: flex;\n}\n.MenuButton:active,\n.MenuButton:focus {\n  outline: 0;\n}\n.MenuButton:hover {\n  background-color: #c5c5c5;\n}\n.MenuButton_active {\n  background-color: #c5c5c5;\n}\n.MenuButton_posRelative {\n  position: relative;\n}\n.MenuButton_disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n",""]);const i=l},1490:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(8081),r=n.n(o),a=n(3645),l=n.n(a)()(r());l.push([e.id,".Separator {\n  border-right: 1px solid #c1c1c1;\n  margin-right: 5px;\n}\n.SeparatorWrapper {\n  float: left;\n  padding: 1px 0;\n}\n.SeparatorWrapper_hide {\n  display: none;\n}\n",""]);const i=l},7467:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(8081),r=n.n(o),a=n(3645),l=n.n(a)()(r());l.push([e.id,".TopMenuItem__Content {\n  flex-grow: 1;\n  min-width: 22px;\n  text-align: center;\n  font-size: 95%;\n  font-family: Lato, Arial, serif;\n}\n.TopMenuItem__Caret {\n  flex-grow: 0;\n  padding-left: 5px;\n}\n.TopMenuItem__Submenu {\n  position: absolute;\n  display: none;\n  top: 100%;\n  padding-top: 5px;\n  z-index: 10;\n}\n.TopMenuItem__Submenu_open {\n  display: block;\n}\n",""]);const i=l},3815:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(8081),r=n.n(o),a=n(3645),l=n.n(a)()(r());l.push([e.id,".ImgIconWrapper {\n  width: var(--img-icon-size);\n  height: var(--img-icon-size);\n  overflow: hidden;\n  display: inline-block;\n  position: relative;\n  vertical-align: text-top;\n}\n.ImgIcon {\n  height: var(--img-icon-size);\n  width: var(--img-icon-collection-width);\n  display: inline-block;\n  background-repeat: no-repeat;\n  background-size: cover;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n",""]);const i=l},5858:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(8081),r=n.n(o),a=n(3645),l=n.n(a)()(r());l.push([e.id,".MIStrokeColor__Current {\n  display: inline-block;\n  width: 19px;\n  height: 17px;\n  vertical-align: bottom;\n}\n",""]);const i=l},5737:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(8081),r=n.n(o),a=n(3645),l=n.n(a)()(r());l.push([e.id,".MIStrokeWidth__Content {\n  display: inline-block;\n}\n",""]);const i=l},9387:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(8081),r=n.n(o),a=n(3645),l=n.n(a)()(r());l.push([e.id,".MsgBubble {\n  padding: 3px 9px;\n  border-radius: 5px;\n}\n.MsgBubble_success {\n  background-color: #a9c994;\n}\n",""]);const i=l},8032:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(8081),r=n.n(o),a=n(3645),l=n.n(a)()(r());l.push([e.id,".Notifications {\n  position: absolute;\n  left: 50%;\n  z-index: 100;\n}\n",""]);const i=l},1433:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(8081),r=n.n(o),a=n(3645),l=n.n(a),i=n(4075),s=n(3598),c=l()(r());c.i(i.Z),c.i(s.Z),c.push([e.id,"html {\n  height: 100%;\n}\nbody {\n  background-color: #e2e2e2;\n  height: 100%;\n  overflow: hidden;\n}\n#app {\n  height: 100%;\n  display: flex;\n  flex-flow: column;\n}\n",""]);const d=c},2767:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(7294),r=n(5530),a=n.n(r);class l extends o.PureComponent{constructor(){super(...arguments),this.handleClickOutside=()=>{const{onClickOutside:e}=this.props;e()}}render(){return this.props.children}}const i=a()(l)},2149:(e,t,n)=>{var o=n(7294),r=n(3935),a=n(9711),l=n(6974),i=n(6486),s=n.n(i),c=n(9163);const d=c.ZP.div`
  position: fixed;
  bottom: 0;
  right: 5px;
  opacity: 0.2;
`;class u extends o.PureComponent{constructor(){super(...arguments),this.defaultVersion="x.xx",this.state={version:this.defaultVersion}}componentDidMount(){const e=document.querySelector('[name="app-version"]');e&&this.setState({version:e.getAttribute("content")||this.defaultVersion})}render(){return o.createElement(d,null,this.state.version)}}const A=u;var p=n(8328),m=n(8910),b=n(3141);const h=e=>{const{open:t}=e,n=(0,o.useRef)(null);return(0,o.useEffect)((()=>{t&&n.current?.click()}),[t]),o.createElement("input",{type:"file",onChange:()=>{const e=s().get(n,"current.files[0]",null);e&&(0,m.Z)(e).then((e=>{b.QL({image:e.image,name:e.name}),n.current&&(n.current.value="")}))},ref:n,style:{display:"none"}})};var f=n(7625),g=n(1436);const v="#D3D3D3",E="#c1c1c1";var y,k=n(3379),C=n.n(k),S=n(7795),w=n.n(S),P=n(569),x=n.n(P),T=n(3565),Z=n.n(T),M=n(9216),z=n.n(M),R=n(4589),O=n.n(R),I=n(3815),L={};L.styleTagTransform=O(),L.setAttributes=Z(),L.insert=x().bind(null,"head"),L.domAPI=w(),L.insertStyleElement=z(),C()(I.Z,L),I.Z&&I.Z.locals&&I.Z.locals,function(e){e[e.load=0]="load",e[e.save=1]="save",e[e.copy=2]="copy",e[e.arrow=3]="arrow",e[e.text=4]="text",e[e.rectangle=5]="rectangle",e[e.circle=6]="circle",e[e.rectSelect=7]="rectSelect",e[e.resize=8]="resize",e[e.strokeWidth=9]="strokeWidth",e[e.crop=10]="crop",e[e.fontSize=11]="fontSize",e[e.check=12]="check",e[e.zoom=13]="zoom",e[e.info=14]="info"}(y||(y={}));const U=e=>{const{icon:t}=e,n=(0,o.useRef)(null);return(0,o.useEffect)((()=>{const e=Object.keys(y).length/2;n.current?.style.setProperty("--img-icon-size","20px"),n.current?.style.setProperty("--img-icon-collection-width",20*e+"px")}),[]),o.createElement("span",{className:"ImgIconWrapper",ref:n},o.createElement("span",{className:"ImgIcon",style:{backgroundImage:"url('data:image/png;base64,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')",left:-1*Number(t)*20}}))},N=c.ZP.div`
  background-color: ${v};
  border: 1px solid ${E};
  border-radius: 3px;
  padding: 3px;
`,W=c.ZP.div`
  padding: 4px 10px;
  border-bottom: 1px dashed ${E};
  display: flex;
  text-align: left;

  &:last-child {
    border-bottom: none;
  }
`,_=c.ZP.div`
  flex-grow: 1;
`,B=c.ZP.div`
  flex-grow: 0;
  padding-left: 10px;
`;class V extends o.PureComponent{static renderCheck(e){return e.selected?o.createElement(B,null,o.createElement(U,{icon:y.check})):null}render(){const{data:e}=this.props;return o.createElement(N,null,e.map((e=>o.createElement(W,{onClick:t=>{e.onClick(e,t)},key:`submenu-item-${e.text}`},o.createElement(_,null,e.text),V.renderCheck(e)))))}}V.defaultProps={data:[]};const H=V;var D=n(7237),j={};j.styleTagTransform=O(),j.setAttributes=Z(),j.insert=x().bind(null,"head"),j.domAPI=w(),j.insertStyleElement=z(),C()(D.Z,j),D.Z&&D.Z.locals&&D.Z.locals;var G=n(4184),X=n.n(G);const q=e=>{const{disabled:t=!1,active:n=!1,onClick:r,className:l,title:i,posRelative:s,link:{href:c=""}={}}=e,d=X()(l,"MenuButton",{MenuButton_active:n,MenuButton_posRelative:s,MenuButton_disabled:t});return 0===c.length?o.createElement("button",{className:d,onClick:r,title:i,disabled:t,type:"button"},e.children):c.startsWith("http")?o.createElement("a",{className:d,onClick:r,title:i,href:c},e.children):o.createElement(a.rU,{className:d,onClick:r,title:i,to:c},e.children)};var F=n(7467),J={};J.styleTagTransform=O(),J.setAttributes=Z(),J.insert=x().bind(null,"head"),J.domAPI=w(),J.insertStyleElement=z(),C()(F.Z,J),F.Z&&F.Z.locals&&F.Z.locals;const Y=e=>{const{subMenu:t=[],disabled:n,active:r,link:a,open:l=!1,title:i="",onClick:s,stopPropagation:c=!0,children:d}=e,u=()=>t.length>0;return o.createElement(q,{disabled:n,active:r,onClick:e=>{c&&e.stopPropagation(),s&&s(e)},link:a,title:i,posRelative:u()},o.createElement("span",{className:"TopMenuItem__Content"},d),u()?o.createElement(o.Fragment,null,o.createElement("span",{className:"TopMenuItem__Caret"},o.createElement(f.G,{icon:g.gc2})),o.createElement("div",{className:X()({TopMenuItem__Submenu:!0,TopMenuItem__Submenu_open:l})},o.createElement(H,{data:t}))):null)};var Q=n(7732);const K=e=>{const{disabled:t=!1}=e,[n,r]=(0,o.useState)(!1);return o.createElement(o.Fragment,null,o.createElement(Y,{onClick:()=>{r(!0),setTimeout((()=>{r(!1)}),100),p.qP({eventCategory:p.Ak.MenuClick,eventAction:p.UZ.OpenImage})},disabled:t,title:(0,Q.t)("menu.openImage"),stopPropagation:!1},o.createElement(U,{icon:y.load})),o.createElement(h,{open:n}))},$=c.ZP.div`
  margin-bottom: 1rem;
`,ee=c.ZP.div`
  position: absolute;
  color: #f44336;
`;class te extends o.PureComponent{renderError(){return""!==this.props.errorText?o.createElement(ee,null,this.props.errorText):null}render(){return o.createElement($,null,this.props.children,this.renderError())}}te.defaultProps={errorText:""};const ne=te;var oe=n(9825),re={};re.styleTagTransform=O(),re.setAttributes=Z(),re.insert=x().bind(null,"head"),re.domAPI=w(),re.insertStyleElement=z(),C()(oe.Z,re),oe.Z&&oe.Z.locals&&oe.Z.locals;const ae=(0,o.forwardRef)(((e,t)=>o.createElement("input",{...e,ref:t,className:"form-input"})));var le=n(4644),ie={};ie.styleTagTransform=O(),ie.setAttributes=Z(),ie.insert=x().bind(null,"head"),ie.domAPI=w(),ie.insertStyleElement=z(),C()(le.Z,ie),le.Z&&le.Z.locals&&le.Z.locals;const se=e=>o.createElement("div",{className:"popup-buttons-container"},e.children),ce=c.ZP.div`
  margin-right: 14px;
  display: inline-block;

  &:last-child {
    margin-right: 0;
  }
`,de=e=>o.createElement(o.Fragment,null,o.Children.map(e.children,(e=>o.createElement(ce,null,e))));var ue,Ae=n(1181),pe={};pe.styleTagTransform=O(),pe.setAttributes=Z(),pe.insert=x().bind(null,"head"),pe.domAPI=w(),pe.insertStyleElement=z(),C()(Ae.Z,pe),Ae.Z&&Ae.Z.locals&&Ae.Z.locals,function(e){e[e.PRIMARY=0]="PRIMARY",e[e.SECONDARY=1]="SECONDARY"}(ue||(ue={}));const me=e=>{const{appearance:t,children:n,block:r=!1,disabled:a,type:l="button",...i}=e;return o.createElement("button",{className:X()({Button:!0,Button_primary:t===ue.PRIMARY||!t,Button_secondary:t===ue.SECONDARY,Button_block:r,Button_disabled:a}),disabled:a,type:l,...i},n)};var be=n(2767),he=n(2652),fe={};fe.styleTagTransform=O(),fe.setAttributes=Z(),fe.insert=x().bind(null,"head"),fe.domAPI=w(),fe.insertStyleElement=z(),C()(he.Z,fe),he.Z&&he.Z.locals&&he.Z.locals;const ge=e=>{const{base:t,onClose:n,show:a,onOpen:l,hideClickOutside:i,children:c,baseClass:d,className:u}=e,A=(0,o.useRef)(null),p=(0,o.useRef)(null),[m,b]=(0,o.useState)(!1),[h,f]=(0,o.useState)(!1),[g,v]=(0,o.useState)(!1),[E,y]=(0,o.useState)(!1);(0,o.useEffect)((()=>(t&&(A.current&&t.removeChild(A.current),A.current=document.createElement("div"),t.appendChild(A.current)),y(!0),()=>{t&&A.current&&t.removeChild(A.current)})),[]),(0,o.useEffect)((()=>{E&&(a?(b(!0),setTimeout((()=>{f(!0)}))):v(!0))}),[a]);if(!s().isString(d)||d.replace(/\s+/," ").split(" ").length>1)throw new Error("baseClass may contain one class at most");const k=X()(d,u,{[`${d}_entering`]:m,[`${d}_open`]:h,[`${d}_leaving`]:g}),C=o.createElement("div",{className:k,onTransitionEnd:e=>{e.target===p.current&&(m&&b(!1),g&&(f(!1),v(!1)),h&&l&&l())},ref:p},i?o.createElement(be.Z,{onClickOutside:()=>{!m&&h&&n&&n()}},c):c);return t&&A.current?(0,r.createPortal)(C,A.current):C},ve=e=>{const{buttons:t}=e;if(t&&t.length>0)return o.createElement(se,null,o.createElement(de,null,t.map(((e,t)=>o.createElement(me,{...e,key:`popup-button-${t}`,type:"button"},e.text)))));const n=t;return o.createElement(se,null,o.createElement(me,{...n,type:"button"},n.text))};var Ee=n(5641),ye={};ye.styleTagTransform=O(),ye.setAttributes=Z(),ye.insert=x().bind(null,"head"),ye.domAPI=w(),ye.insertStyleElement=z(),C()(Ee.Z,ye),Ee.Z&&Ee.Z.locals&&Ee.Z.locals;var ke=n(7220),Ce={};Ce.styleTagTransform=O(),Ce.setAttributes=Z(),Ce.insert=x().bind(null,"head"),Ce.domAPI=w(),Ce.insertStyleElement=z(),C()(ke.Z,Ce),ke.Z&&ke.Z.locals&&ke.Z.locals;const Se=c.iv`
  border: none;
  margin: 0;
  padding: 0;
  width: auto;
  overflow: visible;

  background: transparent;

  cursor: pointer;

  /* inherit font & color from ancestor */
  color: inherit;
  font: inherit;

  /* Normalize 'line-height'. Cannot be changed from 'normal' in Firefox 4+. */
  line-height: normal;

  /* Corrects font smoothing for webkit */
  -webkit-font-smoothing: inherit;
  -moz-osx-font-smoothing: inherit;

  /* Corrects inability to style clickable 'input' types in iOS */
  -webkit-appearance: none;
`,we=c.ZP.button`
  ${Se}
`,Pe=e=>{const{title:t,showCloseBtn:n,onClose:r}=e;return o.createElement("div",{className:"popup-title"},o.createElement("div",{className:"popup-title-section"},t.length>0?o.createElement("div",{className:"popup-title-text"},t):o.createElement("span",null," ")),o.createElement("div",{className:"popup-title-section"},n?o.createElement(we,{onClick:r,type:"button",className:"popup-title-close"},"×"):o.createElement("span",null," ")))},xe=e=>{const{onClose:t,onOpen:n,contentIcon:r,base:a,className:l,buttons:i,hideClickOutside:s,title:c,show:d,children:u}=e;return o.createElement(o.Fragment,null,o.createElement(ge,{baseClass:"popup-bg",show:d,hideClickOutside:!1,base:a},o.createElement("div",null)),o.createElement(ge,{className:l,baseClass:"popup",show:d,hideClickOutside:s,onClose:t,onOpen:n,base:a},o.createElement("div",null,!!c&&o.createElement(Pe,{title:c,onClose:t,showCloseBtn:!0}),o.createElement("div",{className:"popup-body"},r?o.createElement("div",{className:"popup-content"},o.createElement("div",{className:"popup-content__icon"},r),o.createElement("div",{className:"popup-content__text"},u)):u,!!i&&o.createElement(ve,{buttons:i})))))},Te=e=>{const{onCancel:t,onSubmit:n,nameInit:r,show:a}=e,[l,i]=(0,o.useState)(""),[s,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(""),A=(0,o.useRef)(null);return(0,o.useEffect)((()=>{a&&(i(r),c(!1),setTimeout((()=>{A.current?.focus()})))}),[a]),(0,o.useEffect)((()=>{""===l.replace(/\s/g,"")&&s?u("Name can't be empty"):u("")}),[l]),o.createElement(xe,{showCloseBtn:!1,onClose:()=>{i(""),u(""),t()},show:a},o.createElement("form",{onSubmit:e=>{e.preventDefault(),n(l)}},o.createElement(ne,{errorText:d},o.createElement("label",{htmlFor:"saveAs"},"Save as (*.png)"),o.createElement(ae,{placeholder:"Enter file name",id:"saveAs",value:l,ref:A,onChange:e=>{i(e.target.value),c(!0)}})),o.createElement(se,null,o.createElement(de,null,o.createElement(me,{onClick:t,appearance:ue.SECONDARY},"Cancel"),o.createElement(me,{type:"submit",disabled:""!==d},"Save")))))},Ze=e=>{const{disabled:t=!1}=e,[n,r]=(0,o.useState)(!1);return o.createElement(o.Fragment,null,o.createElement(Y,{onClick:()=>{r(!0),p.qP({eventCategory:p.Ak.MenuClick,eventAction:p.UZ.SaveImage})},title:(0,Q.t)("menu.save"),disabled:t,stopPropagation:!1},o.createElement(U,{icon:y.save})),o.createElement(Te,{onSubmit:e=>{""!==e&&(b.BV(e.trim()),r(!1))},onCancel:()=>{r(!1)},show:n,nameInit:""}))};var Me=n(8172),ze=n(5622);const Re=e=>{const{disabled:t=!1}=e,{dispatch:n}=(0,o.useContext)(Me.z);return o.createElement(Y,{onClick:()=>{requestAnimationFrame((()=>{b.kb(),n((0,ze.c)({message:(0,Q.t)("all-copied")}))})),p.qP({eventCategory:p.Ak.MenuClick,eventAction:p.UZ.CopyAll})},disabled:t,stopPropagation:!1,title:(0,Q.t)("menu.copyAll")},o.createElement(U,{icon:y.copy}))};var Oe=n(9477);const Ie=e=>{const{disabled:t=!1}=e,{state:{menu:n},dispatch:r}=(0,o.useContext)(Me.z);return o.createElement(Y,{onClick:()=>{b.UG({type:b.PU.ARROW,options:{strokeColor:n.strokeColor,strokeWidth:n.strokeWidth}}),r((0,Oe.rE)(b.PU.ARROW)),p.qP({eventCategory:p.Ak.MenuClick,eventAction:p.UZ.AddArrow})},disabled:t,active:n.selectedShapeToAdd===b.PU.ARROW,title:(0,Q.t)("menu.addArrow")},o.createElement(U,{icon:y.arrow}))},Le=e=>{const{disabled:t}=e,{state:{menu:n},dispatch:r}=(0,o.useContext)(Me.z);return o.createElement(Y,{onClick:()=>{b.UG({type:b.PU.TEXT,options:{fillColor:n.strokeColor,fontSize:n.fontSize}}),r((0,Oe.rE)(b.PU.TEXT)),p.qP({eventCategory:p.Ak.MenuClick,eventAction:p.UZ.AddText})},disabled:t,active:n.selectedShapeToAdd===b.PU.TEXT,title:(0,Q.t)("menu.addText")},o.createElement(U,{icon:y.text}))},Ue=e=>{const{disabled:t}=e;return o.createElement(Y,{onClick:()=>{b.On(),p.qP({eventCategory:p.Ak.MenuClick,eventAction:p.UZ.ApplyCrop})},disabled:t},o.createElement(U,{icon:y.crop}))},Ne=e=>{const{disabled:t=!1}=e,{state:{menu:n},dispatch:r}=(0,o.useContext)(Me.z);return o.createElement(Y,{onClick:()=>{b.UG({type:b.PU.RECT,options:{strokeColor:n.strokeColor,strokeWidth:n.strokeWidth}}),r((0,Oe.rE)(b.PU.RECT)),p.qP({eventCategory:p.Ak.MenuClick,eventAction:p.UZ.AddRect})},disabled:t,active:n.selectedShapeToAdd===b.PU.RECT,title:(0,Q.t)("menu.addRect")},o.createElement(U,{icon:y.rectangle}))},We=e=>{const{disabled:t=!1}=e,{state:{menu:n},dispatch:r}=(0,o.useContext)(Me.z);return o.createElement(Y,{onClick:()=>{b.UG({type:b.PU.ELLIPSE,options:{strokeColor:n.strokeColor,strokeWidth:n.strokeWidth}}),r((0,Oe.rE)(b.PU.ELLIPSE)),p.qP({eventCategory:p.Ak.MenuClick,eventAction:p.UZ.AddEllipse})},disabled:t,active:n.selectedShapeToAdd===b.PU.ELLIPSE,title:(0,Q.t)("menu.addEllipse")},o.createElement(U,{icon:y.circle}))},_e=e=>{const{disabled:t=!1,reverse:n=!1}=e,r=n?(0,Q.t)("menu.unsketchify"):(0,Q.t)("menu.sketchify");return o.createElement(Y,{onClick:()=>{b.Si(),p.qP({eventCategory:p.Ak.MenuClick,eventAction:p.UZ.Sketchify})},title:r,disabled:t},r)},Be=e=>{const{children:t,fallback:n="Loading..."}=e;return o.createElement(o.Suspense,{fallback:n},t)};var Ve=n(5858),He={};He.styleTagTransform=O(),He.setAttributes=Z(),He.insert=x().bind(null,"head"),He.domAPI=w(),He.insertStyleElement=z(),C()(Ve.Z,He),Ve.Z&&Ve.Z.locals&&Ve.Z.locals;var De=n(5822);const je=o.lazy((()=>Promise.all([n.e(776),n.e(178)]).then(n.bind(n,1352)))),Ge=e=>{const{disabled:t=!1}=e,{state:{menu:n},dispatch:r}=(0,o.useContext)(Me.z);return(0,o.useEffect)((()=>{const e=e=>{const t=(e=>{if(s().isFunction(e.getStrokeColor))return e.getStrokeColor();if(s().isFunction(e.getFillColor))return e.getFillColor();if(e.type!==De.Z.IMAGE)throw new Error("Can't get shape color")})(e);t&&r((0,Oe.VY)(t))},t=b.QA.on(e),n=b.QY.on(e);return()=>{t(),n()}}),[]),o.createElement(Y,{onClick:()=>{r((0,Oe.Mk)())},disabled:t},o.createElement("div",{className:"MIStrokeColor__Current",style:{backgroundColor:n.strokeColor}}),o.createElement(Be,{fallback:null},o.createElement(je,{onChange:e=>{r((0,Oe.VY)(e)),b.xd(e),p.qP({eventCategory:p.Ak.MenuClick,eventAction:p.UZ.ChangeColor})}})))};var Xe=n(5737),qe={};qe.styleTagTransform=O(),qe.setAttributes=Z(),qe.insert=x().bind(null,"head"),qe.domAPI=w(),qe.insertStyleElement=z(),C()(Xe.Z,qe),Xe.Z&&Xe.Z.locals&&Xe.Z.locals;const Fe="STROKE_WIDTH",Je=e=>{const{disabled:t=!1}=e,{state:{menu:n},dispatch:r}=(0,o.useContext)(Me.z);(0,o.useEffect)((()=>{const e=e=>{s().isFunction(e.getStrokeWidth)&&r((0,Oe.lz)(e.getStrokeWidth()))},t=b.QA.on(e),n=b.QY.on(e);return()=>{t(),n()}}),[]);const a=e=>{r((0,Oe.lz)(e.value)),b.b8(e.value),p.qP({eventCategory:p.Ak.MenuClick,eventAction:p.UZ.ChangeStrokeWidth})};return o.createElement(be.Z,{onClickOutside:()=>{n.openSubmenu===Fe&&requestAnimationFrame((()=>{r((0,Oe.uC)(""))}))}},o.createElement(Y,{subMenu:[2,3,5,6,7,8,10].map((e=>({text:`${e}px`,value:e,selected:n.strokeWidth===e,onClick:a}))),open:n.openSubmenu===Fe,disabled:t,onClick:()=>{r((0,Oe.uC)(""===n.openSubmenu?Fe:""))}},o.createElement("span",{className:"MIStrokeWidth__Content"},n.strokeWidth,"px"),o.createElement(U,{icon:y.strokeWidth})))},Ye="FONT_SIZE",Qe=e=>{const{disabled:t}=e,{state:{menu:n},dispatch:r}=(0,o.useContext)(Me.z),a=e=>{r((0,Oe.oL)(e.value)),b.vw(e.value),p.qP({eventCategory:p.Ak.MenuClick,eventAction:p.UZ.ChangeFontSize,eventValue:e.value})};return o.createElement(be.Z,{onClickOutside:()=>{n.openSubmenu===Ye&&requestAnimationFrame((()=>{r((0,Oe.uC)(""))}))}},o.createElement(Y,{subMenu:[12,14,16,18,20,25].map((e=>({text:`${e}px`,value:e,selected:n.fontSize===e,onClick:a}))),open:n.openSubmenu===Ye,disabled:t,onClick:()=>{r((0,Oe.uC)(""===n.openSubmenu?Ye:""))}},o.createElement(U,{icon:y.fontSize})))};var Ke=n(1417);const $e=()=>o.createElement(Y,{link:{href:"https://github.com/artemdemo/imgreview"}},o.createElement(f.G,{icon:Ke.zhw})),et=e=>o.createElement(Y,{onClick:()=>{b.Hy({width:800,height:500})},stopPropagation:!1},(0,Q.t)("menu.blank")),tt=()=>o.createElement(Y,{link:{href:"/about"}},(0,Q.t)("menu.about")),nt=c.ZP.div`
  &::after {
    content: '';
    display: table;
    clear: both;
  }
`,ot=(0,c.ZP)(nt)`
  padding: 4px 15px;
  background-color: ${v};
  z-index: ${10};
`,rt=c.ZP.div`
  float: right;
`;var at=n(1004),lt=n(1490),it={};it.styleTagTransform=O(),it.setAttributes=Z(),it.insert=x().bind(null,"head"),it.domAPI=w(),it.insertStyleElement=z(),C()(lt.Z,it),lt.Z&&lt.Z.locals&&lt.Z.locals;const st=e=>{const{show:t=!0}=e;return o.createElement("span",{className:X()({SeparatorWrapper:!0,SeparatorWrapper_hide:!t})},o.createElement("span",{className:"Separator"}))},ct=e=>{const{children:t}=e;return o.Children.toArray(t).length>0?o.createElement(o.Fragment,null,t,o.createElement(st,null)):null};let dt=!1;const ut={showStrokeColor:!1,showStrokeWidth:!1,showCrop:!1,showFontSize:!1,showSketchify:!1,clickedShapeType:void 0},At=()=>{const e=(0,o.useRef)(null),[t,n]=(0,o.useState)({...ut}),[r,a]=(0,o.useState)(dt),{dispatch:l}=(0,o.useContext)(Me.z),i=e=>{l((0,Oe.rE)()),l((0,Oe.Qc)());const t={...ut,clickedShapeType:e?.type};switch(e?.type){case b.PU.ARROW:case b.PU.RECT_ROUGH:case b.PU.ELLIPSE_ROUGH:t.showStrokeColor=!0,t.showStrokeWidth=!0;break;case b.PU.RECT:case b.PU.ELLIPSE:t.showStrokeColor=!0,t.showStrokeWidth=!0,t.showSketchify=!0;break;case b.PU.TEXT:t.showStrokeColor=!0,t.showFontSize=!0;break;case b.PU.SELECT_RECT:t.showCrop=!0}n(t)};return(0,o.useEffect)((()=>{dt=r}),[r]),(0,o.useEffect)((()=>{const{offsetHeight:t}=e.current||{};t&&l((0,Oe.Nv)(t));const n=b.Jt.on(i),o=b.QA.on((e=>{requestAnimationFrame((()=>i(e)))})),r=b.QY.on((e=>{requestAnimationFrame((()=>i(e)))})),s=b.f6.on((({addedShape:e,shapesList:t})=>{i(e),a(t.length>0)})),c=b.AY.on((({shapesList:e})=>{a(e.length>0)}));return()=>{n(),o(),r(),s(),c()}}),[]),o.createElement(ot,{onClick:()=>{b.Du()},ref:e},o.createElement(ct,null,o.createElement(K,null),o.createElement(Ze,{disabled:!r}),o.createElement(Re,{disabled:!r})),o.createElement(ct,null,o.createElement(Ie,null),o.createElement(Le,null),o.createElement(Ne,null),o.createElement(We,null)),o.createElement(ct,null,t.showCrop&&o.createElement(Ue,null),t.showStrokeColor&&o.createElement(Ge,null),t.showStrokeWidth&&o.createElement(Je,null),t.showFontSize&&o.createElement(Qe,null),t.showSketchify&&o.createElement(_e,{reverse:t.clickedShapeType===b.PU.RECT_ROUGH||t.clickedShapeType===b.PU.ELLIPSE_ROUGH})),at.r&&o.createElement(et,null),o.createElement(rt,null,o.createElement(tt,null),o.createElement($e,null)))};var pt=n(6808),mt=n.n(pt);const bt=(()=>{const e=navigator.userAgent||navigator.vendor||window?.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.slice(0,4))})(),ht=c.ZP.div`
  position: absolute;
  top: 0;
  bottom: 0;
  width: 100%;
  background-color: #00000052;
  z-index: 100;
`,ft=c.ZP.div`
  position: absolute;
  top: 15%;
  left: 50%;
  transform: translateX(-50%);
  width: 300px;
  padding: 10px 10px 12px 10px;
  border-radius: 5px;
  background-color: white;
`,gt="mobileWarningShown",vt="true";class Et extends o.PureComponent{constructor(){super(...arguments),this.state={display:!1},this.handleGotIt=()=>{this.setState({display:!1}),mt().set(gt,vt,{expires:30})}}componentDidMount(){bt&&mt().get(gt)!==vt&&(this.setState({display:!0}),p.qP({eventCategory:p.Ak.GlobalInteraction,eventAction:p.UZ.ShownMobileWarning}))}render(){return this.state.display?o.createElement(ht,null,o.createElement(ft,null,o.createElement("p",null,"ImgReview currently does not support mobile devices."),o.createElement(me,{appearance:ue.PRIMARY,onClick:this.handleGotIt,block:!0},"Got it"))):null}}const yt=Et;var kt=n(1433),Ct={};Ct.styleTagTransform=O(),Ct.setAttributes=Z(),Ct.insert=x().bind(null,"head"),Ct.domAPI=w(),Ct.insertStyleElement=z(),C()(kt.Z,Ct),kt.Z&&kt.Z.locals&&kt.Z.locals;var St=n(9387),wt={};wt.styleTagTransform=O(),wt.setAttributes=Z(),wt.insert=x().bind(null,"head"),wt.domAPI=w(),wt.insertStyleElement=z(),C()(St.Z,wt),St.Z&&St.Z.locals&&St.Z.locals;var Pt=n(8477);const xt=e=>{const{children:t,type:n}=e;return o.createElement("div",{className:X()({MsgBubble:!0,MsgBubble_success:n===Pt.k.Success})},t)};var Tt=n(8032),Zt={};Zt.styleTagTransform=O(),Zt.setAttributes=Z(),Zt.insert=x().bind(null,"head"),Zt.domAPI=w(),Zt.insertStyleElement=z(),C()(Tt.Z,Zt),Tt.Z&&Tt.Z.locals&&Tt.Z.locals;const Mt=()=>{const{state:{menu:e,notifications:t},dispatch:n}=(0,o.useContext)(Me.z);return(0,o.useEffect)((()=>{const e=setInterval((()=>{const e=+new Date;t.list.forEach((t=>{e-Number(t.created)>5e3&&n((0,ze.F)(t))}))}),900);return()=>{clearInterval(e)}}),[t]),o.createElement("div",{className:"Notifications",style:{top:`${e.menuHeight}px`}},t.list.map((e=>o.createElement(xt,{type:e.type,key:`${e.message}-${e.created}`},e.message))))},zt=o.lazy((()=>Promise.all([n.e(466),n.e(79)]).then(n.bind(n,9810)))),Rt=()=>{const e=e=>{const t="HTML"===s().get(e.target,"tagName"),n=e.target&&"app"===e.target.getAttribute("id");(t||n)&&b.Du()};return(0,o.useEffect)((()=>(document.addEventListener("click",e),()=>{document.removeEventListener("click",e)})),[]),o.createElement(o.Fragment,null,o.createElement(A,null),o.createElement(At,null),o.createElement(Be,null,o.createElement(zt,null)),o.createElement(Mt,null),o.createElement(yt,null))},Ot=o.lazy((()=>n.e(678).then(n.bind(n,5779)).then((e=>({default:e.AboutView}))))),It=()=>o.createElement(Me.W,null,o.createElement(a.VK,null,o.createElement(l.Z5,null,o.createElement(l.AW,{path:"/",element:o.createElement(Rt,null)}),o.createElement(l.AW,{path:"/about",element:o.createElement(Be,null,o.createElement(Ot,null))})))),Lt=("app",document.getElementById("app"));Lt.hasChildNodes()?r.hydrate(o.createElement(It,null),Lt):r.render(o.createElement(It,null),Lt)},8172:(e,t,n)=>{n.d(t,{z:()=>p,W:()=>m});var o=n(7294),r=n(6486),a=n.n(r),l=n(5622),i=n(8477);const s={list:[]};var c=n(9477);const d={strokeColor:"#ee2e21",selectedShapeStrokeColor:null,strokeWidth:3,fontSize:18,showColorPicker:!1,menuHeight:0,openSubmenu:"",selectedShapeToAdd:null},u={notifications:s,menu:d},A=function(e){const t=Object.keys(e),n={};for(const o of t){if(a().isUndefined(e[o]))throw new Error(`No reducer provided for key "${o}"`);a().isFunction(e[o])&&(n[o]=e[o])}const o=Object.keys(n);return(e,t)=>{let r=!1;const l={};for(const i of o){const o=n[i],s=e[i],c=o(s,t);if(a().isUndefined(c)){const e="type"in t?t.type:"undefined";throw new Error(`State is undefined for ${i} and action ${e}`)}l[i]=c,r=r||c!==s}return r=r||o.length!==Object.keys(e).length,r?l:e}}({notifications:(e=s,t)=>{switch(t.type){case`${l.c}`:const n=t.payload;return{...e,list:[...e.list,new i.P(n)]};case`${l.F}`:const o=t.payload;return{...e,list:e.list.filter((e=>e!==o))};default:return e}},menu:(e=d,t)=>{switch(t.type){case`${c.Mk}`:return{...e,showColorPicker:!0};case`${c.Nv}`:return{...e,menuHeight:t.payload};case`${c.Qc}`:return{...e,showColorPicker:!1};case`${c.lz}`:return{...e,strokeWidth:t.payload};case`${c.VY}`:return{...e,strokeColor:t.payload};case`${c.oL}`:return{...e,fontSize:t.payload};case`${c.uC}`:return{...e,openSubmenu:t.payload};case`${c.rE}`:return{...e,selectedShapeToAdd:t.payload||null};default:return e}}}),p=(0,o.createContext)({state:u,dispatch:a().noop}),m=e=>{const{children:t,initialState:n}=e,[r,a]=(0,o.useReducer)(A,n||u),l=(0,o.useMemo)((()=>({state:r,dispatch:a})),[r]);return o.createElement(p.Provider,{value:l},t)}},9477:(e,t,n)=>{n.d(t,{Mk:()=>r,Nv:()=>a,uC:()=>l,Qc:()=>i,lz:()=>s,VY:()=>c,oL:()=>d,rE:()=>u});var o=n(2246);const r=(0,o.Z)("SHOW_COLOR_PICKER"),a=(0,o.Z)("SET_MENU_HEIGHT"),l=(0,o.Z)("TOGGLE_SUBMENU"),i=(0,o.Z)("HIDE_COLOR_PICKER"),s=(0,o.Z)("SET_STROKE_WIDTH"),c=(0,o.Z)("SET_STROKE_COLOR"),d=(0,o.Z)("SET_FONT_SIZE"),u=(0,o.Z)("SET_SHAPE_TO_ADD")},8477:(e,t,n)=>{var o;n.d(t,{k:()=>o,P:()=>r}),function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(o||(o={}));class r{constructor({type:e=o.Success,message:t}){this.created=new Date,this.type=e,this.message=t}}},5622:(e,t,n)=>{n.d(t,{c:()=>r,F:()=>a});var o=n(2246);const r=(0,o.Z)("SHOW_NOTIFICATION"),a=(0,o.Z)("REMOVE_NOTIFICATION")},1004:(e,t,n)=>{n.d(t,{r:()=>o});const o=(()=>{try{return!1}catch(e){}return!1})()},8328:(e,t,n)=>{n.d(t,{Ak:()=>o,UZ:()=>r,qP:()=>s});var o,r,a=n(6486),l=n.n(a),i=n(1004);!function(e){e.MenuClick="MenuClick",e.GlobalInteraction="GlobalInteraction"}(o||(o={})),function(e){e.AddArrow="add Arrow",e.AddRect="add Rect",e.AddRectRough="add RectRough",e.AddEllipse="add Ellipse",e.AddEllipseRough="add EllipseRough",e.AddText="add Text",e.AddSelectRect="add SelectRect",e.CopyAll="copy all",e.OpenImage="open image",e.ApplyCrop="apply crop",e.SaveImage="save image",e.ChangeColor="change color",e.ChangeFontSize="change font size",e.ChangeStrokeWidth="change stroke width",e.Sketchify="sketchify",e.DropImage="drop image",e.ShownMobileWarning="ShownMobileWarning"}(r||(r={}));const s=l().debounce((e=>{const t={event_category:e.eventCategory};e.eventLabel&&(t.event_label=e.eventLabel),l().isNumber(e.eventValue)&&(t.value=e.eventValue),l().isBoolean(e.nonInteraction)&&(t.non_interaction=e.nonInteraction);const n=["event",e.eventAction,t];if(i.r)console.log(...n);else try{gtag(...n)}catch(e){console.warn(e)}}),100)},7732:(e,t,n)=>{n.d(t,{t:()=>r});const o=JSON.parse('{"menu.openImage":"Open Image","menu.addArrow":"Add Arrow","menu.addRect":"Add Rectangle","menu.addEllipse":"Add Ellipse","menu.addText":"Add Text","menu.select":"Select","menu.resize":"Resize","menu.save":"Save","menu.copyAll":"Copy All","menu.sketchify":"Sketchify","menu.unsketchify":"Unsketchify","menu.about":"About","menu.blank":"Blank","all-copied":"All Copied","back":"Back"}'),r=e=>o.hasOwnProperty(e)?o[e]:e},8910:(e,t,n)=>{n.d(t,{Z:()=>o});const o=e=>new Promise((t=>{const n=new FileReader;n.onload=n=>{const o=new Image;o.addEventListener("load",(()=>{const n=e.name.split(".").slice(0,-1).join(".");t({image:o,name:n})})),o.src=n.target.result},n.readAsDataURL(e)}))},3141:(e,t,n)=>{n.d(t,{PU:()=>a.Z,Du:()=>m,kb:()=>p,On:()=>b,BV:()=>A,Hy:()=>f,vw:()=>u,QL:()=>s,xd:()=>c,b8:()=>d,f6:()=>y,QA:()=>g,AY:()=>k,QY:()=>v,Jt:()=>E,Si:()=>h,UG:()=>i});var o=n(8111);function r(e,t){const n=function(n){e.emit(t,n)};return n.toString=()=>t,n.on=n=>e.on(t,n),n}var a=n(5822);const l=(0,o.i)(),i=(r(l,"CREATE_SHAPE"),r(l,"START_ADDING_SHAPE")),s=r(l,"SET_IMAGE"),c=r(l,"SET_STROKE_COLOR_TO_ACTIVE_SHAPE"),d=r(l,"SET_STROKE_WIDTH_TO_ACTIVE_SHAPE"),u=r(l,"SET_FONT_SIZE_TO_ACTIVE_SHAPE"),A=r(l,"EXPORT_CANVAS_TO_IMAGE"),p=r(l,"COPY_ALL_TO_CLIPBOARD"),m=r(l,"BLUR_SHAPES"),b=r(l,"CROP_SELECTED"),h=r(l,"SKETCHIFY_ACTIVE_SHAPE"),f=r(l,"INIT_BLANK_CANVAS"),g=r(l,"SHAPE_CLICKED"),v=r(l,"SHAPE_DRAG_STARTED"),E=r(l,"SHAPES_BLURRED"),y=r(l,"SHAPE_ADDED"),k=r(l,"SHAPE_DELETED")},5822:(e,t,n)=>{var o;n.d(t,{Z:()=>r}),function(e){e.SHAPE="Shape",e.ARROW="Arrow",e.TEXT="Text",e.RECT="Rect",e.IMAGE="Image",e.RECT_ROUGH="RectRough",e.ELLIPSE="Ellipse",e.ELLIPSE_ROUGH="EllipseRough",e.SELECT_RECT="SelectRect"}(o||(o={}));const r=o}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=o,e=[],a.O=(t,n,o,r)=>{if(!n){var l=1/0;for(d=0;d<e.length;d++){for(var[n,o,r]=e[d],i=!0,s=0;s<n.length;s++)(!1&r||l>=r)&&Object.keys(a.O).every((e=>a.O[e](n[s])))?n.splice(s--,1):(i=!1,r<l&&(l=r));if(i){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,o,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>"./js/"+e+".chunk-"+{79:"6dbfaab356cf30bbc7a3",178:"8c0fec30d28b9d418703",466:"fb926e44c6571842a4d3",678:"e801f424084e8c1ae746",776:"5a590aea9c1a6495d17a"}[e]+".js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},n="imgreview:",a.l=(e,o,r,l)=>{if(t[e])t[e].push(o);else{var i,s;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==n+r){i=u;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",n+r),i.src=e),t[e]=[o];var A=(n,o)=>{i.onerror=i.onload=null,clearTimeout(p);var r=t[e];if(delete t[e],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((e=>e(o))),n)return n(o)},p=setTimeout(A.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=A.bind(null,i.onerror),i.onload=A.bind(null,i.onload),s&&document.head.appendChild(i)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="/",(()=>{var e={179:0};a.f.j=(t,n)=>{var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(((n,r)=>o=e[t]=[n,r]));n.push(o[2]=r);var l=a.p+a.u(t),i=new Error;a.l(l,(n=>{if(a.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+l+")",i.name="ChunkLoadError",i.type=r,i.request=l,o[1](i)}}),"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,[l,i,s]=n,c=0;if(l.some((t=>0!==e[t]))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(s)var d=s(a)}for(t&&t(n);c<l.length;c++)r=l[c],a.o(e,r)&&e[r]&&e[r][0](),e[l[c]]=0;return a.O(d)},n=self.webpackChunkimgreview=self.webpackChunkimgreview||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=a.O(void 0,[513],(()=>a(2149)));l=a.O(l)})();