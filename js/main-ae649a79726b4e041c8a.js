(()=>{"use strict";var e,n,t,o={1181:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(8081),a=t.n(o),r=t(3645),l=t.n(r)()(a());l.push([e.id,".Button {\n  display: inline-block;\n  font-weight: 400;\n  text-align: center;\n  white-space: nowrap;\n  user-select: none;\n  border: 1px solid transparent;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  line-height: 1.5;\n  border-radius: 0.25rem;\n}\n.Button_block {\n  width: 100%;\n}\n.Button_primary {\n  color: #fff;\n  background-color: #007bff;\n  border-color: #007bff;\n}\n.Button_secondary {\n  color: #fff;\n  background-color: #6c757d;\n  border-color: #6c757d;\n}\n.Button_disabled {\n  color: rgba(255, 255, 255, 0.5);\n  background-color: rgba(108, 117, 125, 0.6);\n  border-color: transparent;\n  cursor: not-allowed;\n}\n",""]);const i=l},9825:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(8081),a=t.n(o),r=t(3645),l=t.n(r)()(a());l.push([e.id,".form-input {\n  display: block;\n  width: 100%;\n  height: calc(2.25rem + 2px);\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  line-height: 1.5;\n  color: #495057;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n",""]);const i=l},2030:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(8081),a=t.n(o),r=t(3645),l=t.n(r)()(a());l.push([e.id,".ImgIconWrapper {\n  width: var(--img-icon-width);\n  height: var(--img-icon-height);\n  overflow: hidden;\n  display: inline-block;\n  position: relative;\n  vertical-align: text-top;\n}\n.ImgIcon {\n  height: var(--img-icon-height);\n  width: var(--img-icon-collection-width);\n  display: inline-block;\n  background-repeat: no-repeat;\n  background-size: cover;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n",""]);const i=l},2652:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(8081),a=t.n(o),r=t(3645),l=t.n(r)()(a());l.push([e.id,".modal {\n  padding: 5px;\n  border: 1px solid black;\n  display: none;\n}\n.modal_entering {\n  display: block;\n  opacity: 0;\n  transition: opacity 0.2s;\n}\n.modal_open {\n  display: block;\n  opacity: 1;\n}\n.modal_leaving {\n  opacity: 0;\n  transition: opacity 0.2s;\n}\n",""]);const i=l},5641:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(8081),a=t.n(o),r=t(3645),l=t.n(r)()(a());l.push([e.id,".popup {\n  border: 2px solid #ececec;\n  width: 470px;\n  position: absolute;\n  background-color: lightgray;\n  box-shadow: 0 0 60px 0 rgba(0, 0, 0, 0.5);\n  display: none;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%) scale(0);\n  z-index: 1001;\n}\n.popup_entering {\n  display: block;\n  transition: transform ease 0.15s;\n  transform: translate(-50%, -50%) scale(0);\n}\n.popup_open {\n  display: block;\n  transform: translate(-50%, -50%) scale(1);\n}\n.popup_leaving {\n  transition: transform ease 0.15s;\n  transform: translate(-50%, -50%) scale(0);\n}\n.popup-body {\n  padding: 30px 24px 24px 24px;\n}\n.popup-content {\n  display: flex;\n}\n.popup-content__icon {\n  flex-grow: 0;\n  margin-right: 18px;\n}\n.popup-content__text {\n  flex-grow: 1;\n  max-height: 200px;\n  overflow: auto;\n}\n.popup-bg {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: none;\n  z-index: 1000;\n}\n.popup-bg_entering {\n  display: block;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n.popup-bg_open {\n  display: block;\n  opacity: 1;\n}\n.popup-bg_leaving {\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n",""]);const i=l},4644:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(8081),a=t.n(o),r=t(3645),l=t.n(r)()(a());l.push([e.id,".popup-buttons-container {\n  padding-top: 50px;\n  text-align: right;\n}\n",""]);const i=l},7220:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(8081),a=t.n(o),r=t(3645),l=t.n(r)()(a());l.push([e.id,".popup-title {\n  padding: 15px;\n  background-color: #ececec;\n  display: flex;\n}\n.popup-title-section {\n  flex-grow: 1;\n  position: relative;\n}\n.popup-title-section:last-child {\n  flex-grow: 0;\n}\n.popup-title-text {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  position: absolute;\n  left: 0;\n  right: 15px;\n}\n.popup-title-close {\n  background: none;\n  color: inherit;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  outline: inherit;\n  flex-grow: 0;\n}\n",""]);const i=l},7237:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(8081),a=t.n(o),r=t(3645),l=t.n(r)()(a());l.push([e.id,".ClearButton {\n  border: none;\n  margin: 0;\n  padding: 0;\n  width: auto;\n  overflow: visible;\n  background: transparent;\n  cursor: pointer;\n  /* inherit font & color from ancestor */\n  color: inherit;\n  font: inherit;\n  /* Normalize 'line-height'. Cannot be changed from 'normal' in Firefox 4+. */\n  line-height: normal;\n  /* Corrects font smoothing for webkit */\n  -webkit-font-smoothing: inherit;\n  -moz-osx-font-smoothing: inherit;\n  /* Corrects inability to style clickable 'input' types in iOS */\n  -webkit-appearance: none;\n}\n.TopMenuItem {\n  background-color: #d3d3d3;\n  display: inline-block;\n  padding: 4px 6px;\n  height: 30px;\n  vertical-align: middle;\n  line-height: normal;\n  position: relative;\n}\n.TopMenuItem__Content {\n  flex-grow: 1;\n  min-width: 22px;\n  text-align: center;\n  font-size: 95%;\n  font-family: Lato, Arial, serif;\n}\n.TopMenuItem__Caret {\n  padding-left: 5px;\n}\n.TopMenuItem__Submenu {\n  position: absolute;\n  display: none;\n  top: 100%;\n  padding-top: 5px;\n  right: 0;\n  z-index: 10;\n}\n.TopMenuItem__Submenu_open {\n  display: block;\n}\n.MenuButton {\n  border: none;\n  margin: 0;\n  padding: 0;\n  width: auto;\n  overflow: visible;\n  background: transparent;\n  cursor: pointer;\n  /* inherit font & color from ancestor */\n  color: inherit;\n  font: inherit;\n  /* Normalize 'line-height'. Cannot be changed from 'normal' in Firefox 4+. */\n  /* Corrects font smoothing for webkit */\n  -webkit-font-smoothing: inherit;\n  -moz-osx-font-smoothing: inherit;\n  /* Corrects inability to style clickable 'input' types in iOS */\n  -webkit-appearance: none;\n  background-color: #d3d3d3;\n  display: inline-block;\n  padding: 4px 6px;\n  height: 30px;\n  vertical-align: middle;\n  line-height: normal;\n  position: relative;\n  border-radius: 3px;\n  margin-right: 5px;\n  outline: none;\n}\n.MenuButton:active,\n.MenuButton:focus {\n  outline: none;\n}\n.MenuButton:hover {\n  background-color: #c5c5c5;\n}\n.MenuButton_active {\n  background-color: #c5c5c5;\n}\n.MenuButton_posRelative {\n  position: relative;\n}\n.MenuButton_disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n",""]);const i=l},8211:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(8081),a=t.n(o),r=t(3645),l=t.n(r)()(a());l.push([e.id,".MenuInput {\n  display: inline-block;\n  border: 1px solid #b7b7b7;\n  background: #ffffff40;\n  border-radius: 3px;\n  width: 40px;\n  height: 20px;\n  text-align: center;\n}\n.MenuInputForm {\n  display: inline-block;\n}\n",""]);const i=l},1490:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(8081),a=t.n(o),r=t(3645),l=t.n(r)()(a());l.push([e.id,".SeparatorWrapper {\n  height: 30px;\n  padding: 4px 0;\n  display: inline-block;\n  vertical-align: middle;\n}\n.Separator {\n  border-right: 1px solid #c1c1c1;\n  margin-right: 5px;\n  height: 100%;\n  display: inline-block;\n}\n.SeparatorWrapper_hide {\n  display: none;\n}\n",""]);const i=l},7467:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(8081),a=t.n(o),r=t(3645),l=t.n(r)()(a());l.push([e.id,".TopMenuItem {\n  background-color: #d3d3d3;\n  display: inline-block;\n  padding: 4px 6px;\n  height: 30px;\n  vertical-align: middle;\n  line-height: normal;\n  position: relative;\n}\n.TopMenuItem__Content {\n  flex-grow: 1;\n  min-width: 22px;\n  text-align: center;\n  font-size: 95%;\n  font-family: Lato, Arial, serif;\n}\n.TopMenuItem__Caret {\n  padding-left: 5px;\n}\n.TopMenuItem__Submenu {\n  position: absolute;\n  display: none;\n  top: 100%;\n  padding-top: 5px;\n  right: 0;\n  z-index: 10;\n}\n.TopMenuItem__Submenu_open {\n  display: block;\n}\n",""]);const i=l},5858:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(8081),a=t.n(o),r=t(3645),l=t.n(r)()(a());l.push([e.id,".MIStrokeColor__Current {\n  display: inline-block;\n  width: 19px;\n  height: 18px;\n  vertical-align: bottom;\n}\n",""]);const i=l},5737:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(8081),a=t.n(o),r=t(3645),l=t.n(r)()(a());l.push([e.id,".MIStrokeWidth__Content {\n  display: inline-block;\n}\n",""]);const i=l},9387:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(8081),a=t.n(o),r=t(3645),l=t.n(r)()(a());l.push([e.id,".MsgBubble {\n  padding: 3px 9px;\n  border-radius: 5px;\n}\n.MsgBubble_success {\n  background-color: #a9c994;\n}\n",""]);const i=l},8032:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(8081),a=t.n(o),r=t(3645),l=t.n(r)()(a());l.push([e.id,".Notifications {\n  position: absolute;\n  left: 50%;\n  z-index: 100;\n}\n",""]);const i=l},1433:(e,n,t)=>{t.d(n,{Z:()=>d});var o=t(8081),a=t.n(o),r=t(3645),l=t.n(r),i=t(4075),s=t(3598),c=l()(a());c.i(i.Z),c.i(s.Z),c.push([e.id,"html {\n  height: 100%;\n}\nbody {\n  background-color: #e2e2e2;\n  height: 100%;\n  overflow: hidden;\n}\n#app {\n  height: 100%;\n}\n",""]);const d=c},2767:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(7294),a=t(5530),r=t.n(a);class l extends o.PureComponent{constructor(){super(...arguments),this.handleClickOutside=()=>{const{onClickOutside:e}=this.props;e()}}render(){return this.props.children}}const i=r()(l)},9332:(e,n,t)=>{var o=t(7294),a=t(3935),r=t(9711),l=t(6974),i=t(6486),s=t.n(i),c=t(9163);const d=c.ZP.div`
  position: fixed;
  bottom: 0;
  right: 5px;
  opacity: 0.2;
`;class u extends o.PureComponent{constructor(){super(...arguments),this.defaultVersion="x.xx",this.state={version:this.defaultVersion}}componentDidMount(){const e=document.querySelector('[name="app-version"]');e&&this.setState({version:e.getAttribute("content")||this.defaultVersion})}render(){return o.createElement(d,null,this.state.version)}}const p=u;var m=t(8328),h=t(8910),g=t(9998);const b=e=>{const{open:n}=e,{state:{canvas:{canvasApi:t}}}=(0,o.useContext)(g.z),a=(0,o.useRef)(null);return(0,o.useEffect)((()=>{n&&a.current?.click()}),[n]),o.createElement("input",{type:"file",onChange:()=>{const e=s().get(a,"current.files[0]",null);e&&(0,h.Z)(e).then((e=>{t?.setImage({image:e.image,name:e.name}),a.current&&(a.current.value="")}))},ref:a,style:{display:"none"}})},v="#D3D3D3",f="#c1c1c1";var k,E=t(3379),y=t.n(E),C=t(7795),A=t.n(C),S=t(569),x=t.n(S),w=t(3565),T=t.n(w),Z=t(9216),P=t.n(Z),I=t(4589),_=t.n(I),R=t(2030),O={};O.styleTagTransform=_(),O.setAttributes=T(),O.insert=x().bind(null,"head"),O.domAPI=A(),O.insertStyleElement=P(),y()(R.Z,O),R.Z&&R.Z.locals&&R.Z.locals,function(e){e[e.load=0]="load",e[e.save=1]="save",e[e.copy=2]="copy",e[e.arrow=3]="arrow",e[e.text=4]="text",e[e.rectangle=5]="rectangle",e[e.circle=6]="circle",e[e.rectSelect=7]="rectSelect",e[e.resize=8]="resize",e[e.strokeWidth=9]="strokeWidth",e[e.fontSize=10]="fontSize",e[e.check=11]="check",e[e.zoom=12]="zoom",e[e.info=13]="info",e[e.undo=14]="undo",e[e.redo=15]="redo",e[e.sendToBack=16]="sendToBack",e[e.bringToFront=17]="bringToFront",e[e.chevronDown=18]="chevronDown"}(k||(k={}));const M=e=>{const{icon:n}=e,t=(0,o.useRef)(null);return(0,o.useEffect)((()=>{const e=Object.keys(k).length/2;t.current?.style.setProperty("--img-icon-width",(n===k.chevronDown?10:20)+"px"),t.current?.style.setProperty("--img-icon-height","20px"),t.current?.style.setProperty("--img-icon-collection-width",20*e+"px")}),[]),Number(n),o.createElement("span",{className:"ImgIconWrapper",ref:t},o.createElement("span",{className:"ImgIcon",style:{backgroundImage:"url('data:image/png;base64,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')",left:n===k.chevronDown?-1*Number(n)*20-7:-1*Number(n)*20}}))},z=c.ZP.div`
  background-color: ${v};
  border: 1px solid ${f};
  border-radius: 3px;
  padding: 3px;
`,N=c.ZP.div`
  padding: 4px 10px;
  border-bottom: 1px dashed ${f};
  display: flex;
  text-align: left;

  &:last-child {
    border-bottom: none;
  }
`,F=c.ZP.div`
  flex-grow: 1;
`,W=c.ZP.div`
  flex-grow: 0;
  padding-left: 10px;
`;class B extends o.PureComponent{static renderCheck(e){return e.selected?o.createElement(W,null,o.createElement(M,{icon:k.check})):null}render(){const{data:e}=this.props;return o.createElement(z,null,e.map((e=>o.createElement(N,{onClick:n=>{e.onClick(e,n)},key:`submenu-item-${e.text}`},o.createElement(F,null,e.text),B.renderCheck(e)))))}}B.defaultProps={data:[]};const U=B;var q=t(7237),D={};D.styleTagTransform=_(),D.setAttributes=T(),D.insert=x().bind(null,"head"),D.domAPI=A(),D.insertStyleElement=P(),y()(q.Z,D),q.Z&&q.Z.locals&&q.Z.locals;var j=t(4184),L=t.n(j);const Y=e=>{const{disabled:n=!1,active:t=!1,onClick:a,className:l,title:i,posRelative:s,link:{href:c=""}={}}=e,d=L()(l,"MenuButton",{MenuButton_active:t,MenuButton_posRelative:s,MenuButton_disabled:n});return 0===c.length?o.createElement("button",{className:d,onClick:a,title:i,disabled:n,type:"button"},e.children):c.startsWith("http")?o.createElement("a",{className:d,onClick:a,title:i,href:c},e.children):o.createElement(r.rU,{className:d,onClick:a,title:i,to:c},e.children)};var G=t(7467),H={};H.styleTagTransform=_(),H.setAttributes=T(),H.insert=x().bind(null,"head"),H.domAPI=A(),H.insertStyleElement=P(),y()(G.Z,H),G.Z&&G.Z.locals&&G.Z.locals;var Q=t(9477);const X=e=>{const{subMenu:n,disabled:t,active:a,link:r,title:l="",onClick:i=s().noop,stopPropagation:c=!0,children:d}=e,{state:{menu:u,canvas:{canvasApi:p}},dispatch:m}=(0,o.useContext)(g.z);(0,o.useEffect)((()=>{const e=()=>{m((0,Q.uC)(""))};let n=s().noop,t=s().noop;return p&&(n=p.onShapesBlurred(e),t=p.onShapeClicked(e)),()=>{n(),t()}}),[]);const h=()=>n&&n.items.length>0,b=e=>{c&&e.stopPropagation(),h()&&m((0,Q.uC)(""===u.openSubmenu?n.token:"")),i(e)};return 1===o.Children.count(d)&&o.Children.toArray(d)[0]?.type?.displayName?o.createElement(o.Fragment,null,o.createElement("div",{className:"TopMenuItem",onClick:e=>{e.stopPropagation()}},o.createElement("span",{className:"TopMenuItem__Content"},d)),o.createElement(Y,{disabled:t,active:a,onClick:b,link:r,title:l,posRelative:h()},h()?o.createElement(o.Fragment,null,o.createElement(M,{icon:k.chevronDown}),o.createElement("div",{className:L()({TopMenuItem__Submenu:!0,TopMenuItem__Submenu_open:u.openSubmenu===n?.token})},o.createElement(U,{data:n.items}))):null)):o.createElement(Y,{disabled:t,active:a,onClick:b,link:r,title:l,posRelative:h()},o.createElement("span",{className:"TopMenuItem__Content"},d),h()?o.createElement(o.Fragment,null,o.createElement("span",{className:"TopMenuItem__Caret"},o.createElement(M,{icon:k.chevronDown})),o.createElement("div",{className:L()({TopMenuItem__Submenu:!0,TopMenuItem__Submenu_open:u.openSubmenu===n?.token})},o.createElement(U,{data:n.items}))):null)};var V=t(7732);const J=e=>{const{disabled:n=!1}=e,[t,a]=(0,o.useState)(!1);return o.createElement(o.Fragment,null,o.createElement(X,{onClick:()=>{a(!0),setTimeout((()=>{a(!1)}),100),m.qP({eventCategory:m.Ak.MenuClick,eventAction:m.UZ.OpenImage})},disabled:n,title:(0,V.t)("menu.openImage"),stopPropagation:!1},o.createElement(M,{icon:k.load})),o.createElement(b,{open:t}))},K=c.ZP.div`
  margin-bottom: 1rem;
`,$=c.ZP.div`
  position: absolute;
  color: #f44336;
`;class ee extends o.PureComponent{renderError(){return""!==this.props.errorText?o.createElement($,null,this.props.errorText):null}render(){return o.createElement(K,null,this.props.children,this.renderError())}}ee.defaultProps={errorText:""};const ne=ee;var te=t(9825),oe={};oe.styleTagTransform=_(),oe.setAttributes=T(),oe.insert=x().bind(null,"head"),oe.domAPI=A(),oe.insertStyleElement=P(),y()(te.Z,oe),te.Z&&te.Z.locals&&te.Z.locals;const ae=(0,o.forwardRef)(((e,n)=>o.createElement("input",{...e,ref:n,className:"form-input"})));var re=t(4644),le={};le.styleTagTransform=_(),le.setAttributes=T(),le.insert=x().bind(null,"head"),le.domAPI=A(),le.insertStyleElement=P(),y()(re.Z,le),re.Z&&re.Z.locals&&re.Z.locals;const ie=e=>o.createElement("div",{className:"popup-buttons-container"},e.children),se=c.ZP.div`
  margin-right: 14px;
  display: inline-block;

  &:last-child {
    margin-right: 0;
  }
`,ce=e=>o.createElement(o.Fragment,null,o.Children.map(e.children,(e=>o.createElement(se,null,e))));var de,ue=t(1181),pe={};pe.styleTagTransform=_(),pe.setAttributes=T(),pe.insert=x().bind(null,"head"),pe.domAPI=A(),pe.insertStyleElement=P(),y()(ue.Z,pe),ue.Z&&ue.Z.locals&&ue.Z.locals,function(e){e[e.PRIMARY=0]="PRIMARY",e[e.SECONDARY=1]="SECONDARY"}(de||(de={}));const me=e=>{const{appearance:n,children:t,block:a=!1,disabled:r,type:l="button",...i}=e;return o.createElement("button",{className:L()({Button:!0,Button_primary:n===de.PRIMARY||!n,Button_secondary:n===de.SECONDARY,Button_block:a,Button_disabled:r}),disabled:r,type:l,...i},t)};var he=t(2767),ge=t(2652),be={};be.styleTagTransform=_(),be.setAttributes=T(),be.insert=x().bind(null,"head"),be.domAPI=A(),be.insertStyleElement=P(),y()(ge.Z,be),ge.Z&&ge.Z.locals&&ge.Z.locals;const ve=e=>{const{base:n,onClose:t,show:r,onOpen:l,hideClickOutside:i,children:c,baseClass:d,className:u}=e,p=(0,o.useRef)(null),m=(0,o.useRef)(null),[h,g]=(0,o.useState)(!1),[b,v]=(0,o.useState)(!1),[f,k]=(0,o.useState)(!1),[E,y]=(0,o.useState)(!1);(0,o.useEffect)((()=>(n&&(p.current&&n.removeChild(p.current),p.current=document.createElement("div"),n.appendChild(p.current)),y(!0),()=>{n&&p.current&&n.removeChild(p.current)})),[]),(0,o.useEffect)((()=>{E&&(r?(g(!0),setTimeout((()=>{v(!0)}))):k(!0))}),[r]);if(!s().isString(d)||d.replace(/\s+/," ").split(" ").length>1)throw new Error("baseClass may contain one class at most");const C=L()(d,u,{[`${d}_entering`]:h,[`${d}_open`]:b,[`${d}_leaving`]:f}),A=o.createElement("div",{className:C,onTransitionEnd:e=>{e.target===m.current&&(h&&g(!1),f&&(v(!1),k(!1)),b&&l&&l())},ref:m},i?o.createElement(he.Z,{onClickOutside:()=>{!h&&b&&t&&t()}},c):c);return n&&p.current?(0,a.createPortal)(A,p.current):A},fe=e=>{const{buttons:n}=e;if(n&&n.length>0)return o.createElement(ie,null,o.createElement(ce,null,n.map(((e,n)=>o.createElement(me,{...e,key:`popup-button-${n}`,type:"button"},e.text)))));const t=n;return o.createElement(ie,null,o.createElement(me,{...t,type:"button"},t.text))};var ke=t(5641),Ee={};Ee.styleTagTransform=_(),Ee.setAttributes=T(),Ee.insert=x().bind(null,"head"),Ee.domAPI=A(),Ee.insertStyleElement=P(),y()(ke.Z,Ee),ke.Z&&ke.Z.locals&&ke.Z.locals;var ye=t(7220),Ce={};Ce.styleTagTransform=_(),Ce.setAttributes=T(),Ce.insert=x().bind(null,"head"),Ce.domAPI=A(),Ce.insertStyleElement=P(),y()(ye.Z,Ce),ye.Z&&ye.Z.locals&&ye.Z.locals;const Ae=c.iv`
  border: none;
  margin: 0;
  padding: 0;
  width: auto;
  overflow: visible;

  background: transparent;

  cursor: pointer;

  /* inherit font & color from ancestor */
  color: inherit;
  font: inherit;

  /* Normalize 'line-height'. Cannot be changed from 'normal' in Firefox 4+. */
  line-height: normal;

  /* Corrects font smoothing for webkit */
  -webkit-font-smoothing: inherit;
  -moz-osx-font-smoothing: inherit;

  /* Corrects inability to style clickable 'input' types in iOS */
  -webkit-appearance: none;
`,Se=c.ZP.button`
  ${Ae}
`,xe=e=>{const{title:n,showCloseBtn:t,onClose:a}=e;return o.createElement("div",{className:"popup-title"},o.createElement("div",{className:"popup-title-section"},n.length>0?o.createElement("div",{className:"popup-title-text"},n):o.createElement("span",null," ")),o.createElement("div",{className:"popup-title-section"},t?o.createElement(Se,{onClick:a,type:"button",className:"popup-title-close"},"×"):o.createElement("span",null," ")))},we=e=>{const{onClose:n,onOpen:t,contentIcon:a,base:r,className:l,buttons:i,hideClickOutside:s,title:c,show:d,children:u}=e;return o.createElement(o.Fragment,null,o.createElement(ve,{baseClass:"popup-bg",show:d,hideClickOutside:!1,base:r},o.createElement("div",null)),o.createElement(ve,{className:l,baseClass:"popup",show:d,hideClickOutside:s,onClose:n,onOpen:t,base:r},o.createElement("div",null,!!c&&o.createElement(xe,{title:c,onClose:n,showCloseBtn:!0}),o.createElement("div",{className:"popup-body"},a?o.createElement("div",{className:"popup-content"},o.createElement("div",{className:"popup-content__icon"},a),o.createElement("div",{className:"popup-content__text"},u)):u,!!i&&o.createElement(fe,{buttons:i})))))},Te=e=>{const{onCancel:n,onSubmit:t,nameInit:a="",show:r}=e,[l,i]=(0,o.useState)(""),[s,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(""),p=(0,o.useRef)(null);return(0,o.useEffect)((()=>{r&&(i(a),c(!1),setTimeout((()=>{p.current?.focus()})))}),[r]),(0,o.useEffect)((()=>{""===l.replace(/\s/g,"")&&s?u("Name can't be empty"):u("")}),[l]),o.createElement(we,{showCloseBtn:!1,onClose:()=>{i(""),u(""),n()},show:r,base:document.body},o.createElement("form",{onSubmit:e=>{e.preventDefault(),t(l)}},o.createElement(ne,{errorText:d},o.createElement("label",{htmlFor:"saveAs"},"Save as (*.png)"),o.createElement(ae,{placeholder:"Enter file name",id:"saveAs",value:l,ref:p,onChange:e=>{i(e.target.value),c(!0)}})),o.createElement(ie,null,o.createElement(ce,null,o.createElement(me,{onClick:n,appearance:de.SECONDARY},"Cancel"),o.createElement(me,{type:"submit",disabled:""!==d},"Save")))))},Ze=e=>{const{disabled:n=!1}=e,[t,a]=(0,o.useState)(!1),{state:{canvas:{canvasApi:r}}}=(0,o.useContext)(g.z);return o.createElement(o.Fragment,null,o.createElement(X,{onClick:()=>{a(!0),m.qP({eventCategory:m.Ak.MenuClick,eventAction:m.UZ.SaveImage})},title:(0,V.t)("menu.save"),disabled:n,stopPropagation:!1},o.createElement(M,{icon:k.save})),o.createElement(Te,{onSubmit:e=>{""!==e&&(r?.exportCanvasToImage(e.trim()),a(!1))},onCancel:()=>{a(!1)},show:t}))};var Pe=t(5622);const Ie=e=>{const{disabled:n=!1}=e,{state:{canvas:{canvasApi:t}},dispatch:a}=(0,o.useContext)(g.z);return o.createElement(X,{onClick:()=>{requestAnimationFrame((()=>{t?.copyAllToClipboard(),a((0,Pe.c)({message:(0,V.t)("all-copied")}))})),m.qP({eventCategory:m.Ak.MenuClick,eventAction:m.UZ.CopyAll})},disabled:n,stopPropagation:!1,title:(0,V.t)("menu.copyAll")},o.createElement(M,{icon:k.copy}))};var _e=t(7085);const Re=e=>{const{disabled:n=!1}=e,{state:{menu:t,canvas:{canvasApi:a}},dispatch:r}=(0,o.useContext)(g.z);return o.createElement(X,{onClick:()=>{a?.startAddingShape({type:_e.P.ARROW,options:{strokeColor:t.strokeColor,strokeWidth:t.strokeWidth}}),r((0,Q.rE)(_e.P.ARROW)),m.qP({eventCategory:m.Ak.MenuClick,eventAction:m.UZ.AddArrow})},disabled:n,active:t.selectedShapeToAdd===_e.P.ARROW,title:(0,V.t)("menu.addArrow")},o.createElement(M,{icon:k.arrow}))},Oe=e=>{const{disabled:n}=e,{state:{menu:t,canvas:{canvasApi:a}},dispatch:r}=(0,o.useContext)(g.z);return o.createElement(X,{onClick:()=>{a?.startAddingShape({type:_e.P.TEXT,options:{fillColor:t.strokeColor,fontSize:t.fontSize}}),r((0,Q.rE)(_e.P.TEXT)),m.qP({eventCategory:m.Ak.MenuClick,eventAction:m.UZ.AddText})},disabled:n,active:t.selectedShapeToAdd===_e.P.TEXT,title:(0,V.t)("menu.addText")},o.createElement(M,{icon:k.text}))},Me=e=>{const{disabled:n=!1}=e,{state:{menu:t,canvas:{canvasApi:a}},dispatch:r}=(0,o.useContext)(g.z);return o.createElement(X,{onClick:()=>{a?.startAddingShape({type:_e.P.RECT,options:{strokeColor:t.strokeColor,strokeWidth:t.strokeWidth}}),r((0,Q.rE)(_e.P.RECT)),m.qP({eventCategory:m.Ak.MenuClick,eventAction:m.UZ.AddRect})},disabled:n,active:t.selectedShapeToAdd===_e.P.RECT,title:(0,V.t)("menu.addRect")},o.createElement(M,{icon:k.rectangle}))},ze=e=>{const{disabled:n=!1}=e,{state:{menu:t,canvas:{canvasApi:a}},dispatch:r}=(0,o.useContext)(g.z);return o.createElement(X,{onClick:()=>{a?.startAddingShape({type:_e.P.ELLIPSE,options:{strokeColor:t.strokeColor,strokeWidth:t.strokeWidth}}),r((0,Q.rE)(_e.P.ELLIPSE)),m.qP({eventCategory:m.Ak.MenuClick,eventAction:m.UZ.AddEllipse})},disabled:n,active:t.selectedShapeToAdd===_e.P.ELLIPSE,title:(0,V.t)("menu.addEllipse")},o.createElement(M,{icon:k.circle}))},Ne=e=>{const{disabled:n=!1,reverse:t=!1}=e,{state:{canvas:{canvasApi:a}}}=(0,o.useContext)(g.z),r=t?(0,V.t)("menu.unsketchify"):(0,V.t)("menu.sketchify");return o.createElement(X,{onClick:()=>{a?.sketchifyActiveShape(),m.qP({eventCategory:m.Ak.MenuClick,eventAction:m.UZ.Sketchify})},title:r,disabled:n},r)},Fe=e=>{const{children:n,fallback:t="Loading..."}=e;return o.createElement(o.Suspense,{fallback:t},n)};var We=t(5858),Be={};Be.styleTagTransform=_(),Be.setAttributes=T(),Be.insert=x().bind(null,"head"),Be.domAPI=A(),Be.insertStyleElement=P(),y()(We.Z,Be),We.Z&&We.Z.locals&&We.Z.locals;var Ue=t(5822);const qe=o.lazy((()=>Promise.all([t.e(776),t.e(178)]).then(t.bind(t,1352)))),De=e=>{const{disabled:n=!1}=e,{state:{menu:t,canvas:{canvasApi:a}},dispatch:r}=(0,o.useContext)(g.z);return(0,o.useEffect)((()=>{const e=e=>{const n=(e=>{if(s().isFunction(e.getStrokeColor))return e.getStrokeColor();if(s().isFunction(e.getFillColor))return e.getFillColor();if(e.type!==Ue.Z.IMAGE)throw new Error("Can't get shape color")})(e);n&&r((0,Q.VY)(n))};let n=s().noop,t=s().noop;return a&&(n=a.onShapeClicked(e),t=a.onShapeDragStarted(e)),()=>{n(),t()}}),[a]),o.createElement(X,{onClick:()=>{r((0,Q.Mk)())},disabled:n},o.createElement("div",{className:"MIStrokeColor__Current",style:{backgroundColor:t.strokeColor}}),o.createElement(Fe,{fallback:null},o.createElement(qe,{onChange:e=>{r((0,Q.VY)(e)),a?.setStrokeColorToActiveShape(e),m.qP({eventCategory:m.Ak.MenuClick,eventAction:m.UZ.ChangeColor})}})))};var je=t(5737),Le={};Le.styleTagTransform=_(),Le.setAttributes=T(),Le.insert=x().bind(null,"head"),Le.domAPI=A(),Le.insertStyleElement=P(),y()(je.Z,Le),je.Z&&je.Z.locals&&je.Z.locals;const Ye="STROKE_WIDTH",Ge=e=>{const{disabled:n=!1}=e,{state:{menu:t,canvas:{canvasApi:a}},dispatch:r}=(0,o.useContext)(g.z);(0,o.useEffect)((()=>{const e=e=>{s().isFunction(e.getStrokeWidth)&&r((0,Q.lz)(e.getStrokeWidth()))};let n=s().noop,t=s().noop;return a&&(n=a.onShapeClicked(e),t=a.onShapeDragStarted(e)),()=>{n(),t()}}),[a]);const l=e=>{r((0,Q.lz)(e.value)),a?.setStrokeWidthToActiveShape(e.value),m.qP({eventCategory:m.Ak.MenuClick,eventAction:m.UZ.ChangeStrokeWidth})};return o.createElement(he.Z,{onClickOutside:()=>{t.openSubmenu===Ye&&requestAnimationFrame((()=>{r((0,Q.uC)(""))}))}},o.createElement(X,{subMenu:{items:[2,3,5,6,7,8,10].map((e=>({text:`${e}px`,value:e,selected:t.strokeWidth===e,onClick:l}))),token:Ye},disabled:n},o.createElement("span",{className:"MIStrokeWidth__Content"},t.strokeWidth,"px"),o.createElement(M,{icon:k.strokeWidth})))};var He=t(8211),Qe={};Qe.styleTagTransform=_(),Qe.setAttributes=T(),Qe.insert=x().bind(null,"head"),Qe.domAPI=A(),Qe.insertStyleElement=P(),y()(He.Z,Qe),He.Z&&He.Z.locals&&He.Z.locals;const Xe=e=>{const{disabled:n,onSubmit:t,displayValue:a,suffix:r}=e,[l,i]=(0,o.useState)(!1),[s,c]=(0,o.useState)(""),d=(0,o.useRef)(null);return(0,o.useEffect)((()=>{l&&requestAnimationFrame((()=>{d.current?.focus(),c(a)}))}),[l]),o.createElement(o.Fragment,null,!l&&o.createElement("span",{className:"MenuInput",onClick:e=>{e.stopPropagation(),i(!0)}},a),l&&o.createElement("form",{className:"MenuInputForm",onSubmit:e=>{e.preventDefault(),e.stopPropagation(),t(s),i(!1)}},o.createElement("input",{className:"MenuInput",disabled:n,value:s,onChange:e=>{e.stopPropagation(),c(e.target.value)},ref:d})),r?` ${r}`:"")};Xe.displayName="MenuInput";const Ve="FONT_SIZE",Je=e=>{const{disabled:n}=e,{state:{menu:t,canvas:{canvasApi:a}},dispatch:r}=(0,o.useContext)(g.z),l=e=>{const n=parseInt(e,10),o=Number.isNaN(n)?t.fontSize:Math.min(200,Math.max(10,n));r((0,Q.oL)(o)),a?.setFontSizeToActiveShape(o),m.qP({eventCategory:m.Ak.MenuClick,eventAction:m.UZ.ChangeFontSize}),r((0,Q.uC)(""))};return o.createElement(he.Z,{onClickOutside:()=>{t.openSubmenu===Ve&&requestAnimationFrame((()=>{r((0,Q.uC)(""))}))}},o.createElement(X,{subMenu:{items:[16,18,20,25,30,40,55,80].map((e=>({text:`${e}px`,value:e,selected:t.fontSize===e,onClick:e=>{l(e.value)}}))),token:Ve},disabled:n},o.createElement(Xe,{displayValue:String(t.fontSize),onSubmit:l,suffix:"px"})))},Ke=()=>o.createElement(X,{link:{href:"https://github.com/artemdemo/imgreview"},onClick:()=>{m.qP({eventCategory:m.Ak.MenuClick,eventAction:m.UZ.GithubPage})}},"Github"),$e=e=>{const{state:{canvas:{canvasApi:n}}}=(0,o.useContext)(g.z);return o.createElement(X,{onClick:()=>{n?.initBlankCanvas({width:800,height:500})},stopPropagation:!1},(0,V.t)("menu.blank"))},en=()=>o.createElement(X,{link:{href:"/about"},onClick:()=>{m.qP({eventCategory:m.Ak.MenuClick,eventAction:m.UZ.AboutPage})}},(0,V.t)("menu.about")),nn=c.ZP.div`
  &::after {
    content: '';
    display: table;
    clear: both;
  }
`,tn=(0,c.ZP)(nn)`
  padding: 4px 15px;
  background-color: ${v};
  z-index: ${10};
  position: fixed;
  left: 0;
  right: 0;
`,on=c.ZP.div`
  float: right;
`;var an=t(1004),rn=t(1490),ln={};ln.styleTagTransform=_(),ln.setAttributes=T(),ln.insert=x().bind(null,"head"),ln.domAPI=A(),ln.insertStyleElement=P(),y()(rn.Z,ln),rn.Z&&rn.Z.locals&&rn.Z.locals;const sn=e=>{const{show:n=!0}=e;return o.createElement("span",{className:L()({SeparatorWrapper:!0,SeparatorWrapper_hide:!n})},o.createElement("span",{className:"Separator"}))},cn=e=>{const{children:n}=e;return o.Children.toArray(n).length>0?o.createElement(o.Fragment,null,n,o.createElement(sn,null)):null},dn=e=>{const{onShapesAmountChanged:n,onShapeFocus:t}=e,{state:{canvas:{canvasApi:a}}}=(0,o.useContext)(g.z);return(0,o.useEffect)((()=>{let e=s().noop,o=s().noop,r=s().noop,l=s().noop,i=s().noop;return a&&(e=a.onShapesBlurred(t),o=a.onShapeClicked((e=>{requestAnimationFrame((()=>t(e)))})),r=a.onShapeDragStarted((e=>{requestAnimationFrame((()=>t(e)))})),l=a.onShapeAdded((async({addedShape:e})=>{t(e),n()})),i=a.onShapeDeleted(n),n()),()=>{e(),o(),r(),l(),i()}}),[a]),null},un=e=>{const{disabled:n=!1}=e,{state:{canvas:{canvasApi:t}}}=(0,o.useContext)(g.z);return o.createElement(X,{onClick:()=>{t?.changeOrderOfActiveShape(_e.Q.BringToFront),m.qP({eventCategory:m.Ak.MenuClick,eventAction:m.UZ.BringFront})},disabled:n,title:(0,V.t)("menu.bringFront")},o.createElement(M,{icon:k.bringToFront}))},pn=e=>{const{disabled:n=!1}=e,{state:{canvas:{canvasApi:t}}}=(0,o.useContext)(g.z);return o.createElement(X,{onClick:()=>{t?.changeOrderOfActiveShape(_e.Q.SendToBack),m.qP({eventCategory:m.Ak.MenuClick,eventAction:m.UZ.SendBack})},disabled:n,title:(0,V.t)("menu.sendBack")},o.createElement(M,{icon:k.sendToBack}))},mn={showStrokeColor:!1,showStrokeWidth:!1,showCrop:!1,showFontSize:!1,showSketchify:!1,showOrderButtons:!1,clickedShapeType:void 0},hn=()=>{const e=(0,o.useRef)(null),[n,t]=(0,o.useState)({...mn}),[a,r]=(0,o.useState)(!1),{state:{canvas:{canvasApi:l}},dispatch:i}=(0,o.useContext)(g.z);return(0,o.useEffect)((()=>{const{offsetHeight:n}=e.current||{};n&&i((0,Q.Nv)(n))}),[]),o.createElement(o.Fragment,null,o.createElement(dn,{onShapesAmountChanged:async()=>{if(l){const e=await l.getShapesAmount();r(e>0)}},onShapeFocus:e=>{i((0,Q.rE)()),i((0,Q.Qc)());const n={...mn,showOrderButtons:!1,clickedShapeType:e?.type};switch(e?.type){case _e.P.ARROW:case _e.P.RECT_ROUGH:case _e.P.ELLIPSE_ROUGH:n.showStrokeColor=!0,n.showStrokeWidth=!0;break;case _e.P.RECT:case _e.P.ELLIPSE:n.showStrokeColor=!0,n.showStrokeWidth=!0,n.showSketchify=!0;break;case _e.P.TEXT:n.showStrokeColor=!0,n.showFontSize=!0;break;case _e.P.SELECT_RECT:n.showCrop=!0}e&&(n.showOrderButtons=!0),t(n)}}),o.createElement(tn,{onClick:()=>{l?.blurShapes()},ref:e},o.createElement(cn,null,o.createElement(J,null),o.createElement(Ze,{disabled:!a}),o.createElement(Ie,{disabled:!a})),o.createElement(cn,null,o.createElement(Re,null),o.createElement(Oe,null),o.createElement(Me,null),o.createElement(ze,null)),o.createElement(cn,null,n.showStrokeColor&&o.createElement(De,null),n.showStrokeWidth&&o.createElement(Ge,null),n.showFontSize&&o.createElement(Je,null),n.showSketchify&&o.createElement(Ne,{reverse:n.clickedShapeType===_e.P.RECT_ROUGH||n.clickedShapeType===_e.P.ELLIPSE_ROUGH})),n.showOrderButtons&&o.createElement(cn,null,o.createElement(un,null),o.createElement(pn,null)),an.r&&o.createElement($e,null),o.createElement(on,null,o.createElement(en,null),o.createElement(Ke,null))))};var gn=t(6808),bn=t.n(gn);const vn=(()=>{const e=navigator.userAgent||navigator.vendor||window?.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.slice(0,4))})(),fn=c.ZP.div`
  position: absolute;
  top: 0;
  bottom: 0;
  width: 100%;
  background-color: #00000052;
  z-index: 100;
`,kn=c.ZP.div`
  position: absolute;
  top: 15%;
  left: 50%;
  transform: translateX(-50%);
  width: 300px;
  padding: 10px 10px 12px 10px;
  border-radius: 5px;
  background-color: white;
`,En="mobileWarningShown",yn="true";class Cn extends o.PureComponent{constructor(){super(...arguments),this.state={display:!1},this.handleGotIt=()=>{this.setState({display:!1}),bn().set(En,yn,{expires:30})}}componentDidMount(){vn&&bn().get(En)!==yn&&(this.setState({display:!0}),m.qP({eventCategory:m.Ak.GlobalInteraction,eventAction:m.UZ.ShownMobileWarning}))}render(){return this.state.display?o.createElement(fn,null,o.createElement(kn,null,o.createElement("p",null,"ImgReview currently does not support mobile devices."),o.createElement(me,{appearance:de.PRIMARY,onClick:this.handleGotIt,block:!0},"Got it"))):null}}const An=Cn;var Sn=t(1433),xn={};xn.styleTagTransform=_(),xn.setAttributes=T(),xn.insert=x().bind(null,"head"),xn.domAPI=A(),xn.insertStyleElement=P(),y()(Sn.Z,xn),Sn.Z&&Sn.Z.locals&&Sn.Z.locals;var wn=t(9387),Tn={};Tn.styleTagTransform=_(),Tn.setAttributes=T(),Tn.insert=x().bind(null,"head"),Tn.domAPI=A(),Tn.insertStyleElement=P(),y()(wn.Z,Tn),wn.Z&&wn.Z.locals&&wn.Z.locals;var Zn=t(8477);const Pn=e=>{const{children:n,type:t}=e;return o.createElement("div",{className:L()({MsgBubble:!0,MsgBubble_success:t===Zn.k.Success})},n)};var In=t(8032),_n={};_n.styleTagTransform=_(),_n.setAttributes=T(),_n.insert=x().bind(null,"head"),_n.domAPI=A(),_n.insertStyleElement=P(),y()(In.Z,_n),In.Z&&In.Z.locals&&In.Z.locals;const Rn=()=>{const{state:{menu:e,notifications:n},dispatch:t}=(0,o.useContext)(g.z);return(0,o.useEffect)((()=>{const e=setInterval((()=>{const e=+new Date;n.list.forEach((n=>{e-Number(n.created)>5e3&&t((0,Pe.F)(n))}))}),900);return()=>{clearInterval(e)}}),[n]),o.createElement("div",{className:"Notifications",style:{top:`${e.menuHeight}px`}},n.list.map((e=>o.createElement(Pn,{type:e.type,key:`${e.message}-${e.created}`},e.message))))},On=o.lazy((()=>Promise.all([t.e(333),t.e(79)]).then(t.bind(t,9289)))),Mn=()=>{const{state:{canvas:{canvasApi:e}}}=(0,o.useContext)(g.z),n=n=>{const t="HTML"===s().get(n.target,"tagName"),o=n.target&&"app"===n.target.getAttribute("id");(t||o)&&e?.blurShapes()};return(0,o.useEffect)((()=>(document.addEventListener("click",n),()=>{document.removeEventListener("click",n)})),[]),o.createElement(o.Fragment,null,o.createElement(p,null),o.createElement(hn,null),o.createElement(Fe,null,o.createElement(On,null)),o.createElement(Rn,null),o.createElement(An,null))},zn=o.lazy((()=>t.e(678).then(t.bind(t,5779)).then((e=>({default:e.AboutView}))))),Nn=()=>o.createElement(g.W,null,o.createElement(r.VK,null,o.createElement(l.Z5,null,o.createElement(l.AW,{path:"/",element:o.createElement(Mn,null)}),o.createElement(l.AW,{path:"/about",element:o.createElement(Fe,null,o.createElement(zn,null))})))),Fn=("app",document.getElementById("app"));Fn.hasChildNodes()?a.hydrate(o.createElement(Nn,null),Fn):a.render(o.createElement(Nn,null),Fn)},9998:(e,n,t)=>{t.d(n,{z:()=>g,W:()=>b});var o=t(7294),a=t(6486),r=t.n(a),l=t(5622),i=t(8477);const s={list:[]};var c=t(9477);const d={strokeColor:"#ee2e21",selectedShapeStrokeColor:null,strokeWidth:3,fontSize:18,showColorPicker:!1,menuHeight:0,openSubmenu:"",selectedShapeToAdd:null};var u=t(4709);const p={canvasApi:null},m={notifications:s,menu:d,canvas:p},h=function(e){const n=Object.keys(e),t={};for(const o of n){if(r().isUndefined(e[o]))throw new Error(`No reducer provided for key "${o}"`);r().isFunction(e[o])&&(t[o]=e[o])}const o=Object.keys(t);return(e,n)=>{let a=!1;const l={};for(const i of o){const o=t[i],s=e[i],c=o(s,n);if(r().isUndefined(c)){const e="type"in n?n.type:"undefined";throw new Error(`State is undefined for ${i} and action ${e}`)}l[i]=c,a=a||c!==s}return a=a||o.length!==Object.keys(e).length,a?l:e}}({notifications:(e=s,n)=>{switch(n.type){case`${l.c}`:const t=n.payload;return{...e,list:[...e.list,new i.P(t)]};case`${l.F}`:const o=n.payload;return{...e,list:e.list.filter((e=>e!==o))};default:return e}},menu:(e=d,n)=>{switch(n.type){case`${c.Mk}`:return{...e,showColorPicker:!0};case`${c.Nv}`:return{...e,menuHeight:n.payload};case`${c.Qc}`:return{...e,showColorPicker:!1};case`${c.lz}`:return{...e,strokeWidth:n.payload};case`${c.VY}`:return{...e,strokeColor:n.payload};case`${c.oL}`:return{...e,fontSize:n.payload};case`${c.uC}`:return{...e,openSubmenu:n.payload};case`${c.rE}`:return{...e,selectedShapeToAdd:n.payload||null};default:return e}},canvas:(e=p,n)=>n.type===`${u.T}`?{...e,canvasApi:n.payload}:e}),g=(0,o.createContext)({state:m,dispatch:r().noop}),b=e=>{const{children:n,initialState:t}=e,[a,r]=(0,o.useReducer)(h,t||m),l=(0,o.useMemo)((()=>({state:a,dispatch:r})),[a]);return o.createElement(g.Provider,{value:l},n)}},4709:(e,n,t)=>{t.d(n,{T:()=>o});const o=(0,t(2246).Z)("SET_CANVAS_API")},9477:(e,n,t)=>{t.d(n,{Mk:()=>a,Nv:()=>r,uC:()=>l,Qc:()=>i,lz:()=>s,VY:()=>c,oL:()=>d,rE:()=>u});var o=t(2246);const a=(0,o.Z)("SHOW_COLOR_PICKER"),r=(0,o.Z)("SET_MENU_HEIGHT"),l=(0,o.Z)("TOGGLE_SUBMENU"),i=(0,o.Z)("HIDE_COLOR_PICKER"),s=(0,o.Z)("SET_STROKE_WIDTH"),c=(0,o.Z)("SET_STROKE_COLOR"),d=(0,o.Z)("SET_FONT_SIZE"),u=(0,o.Z)("SET_SHAPE_TO_ADD")},8477:(e,n,t)=>{var o;t.d(n,{k:()=>o,P:()=>a}),function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(o||(o={}));class a{constructor({type:e=o.Success,message:n}){this.created=new Date,this.type=e,this.message=n}}},5622:(e,n,t)=>{t.d(n,{c:()=>a,F:()=>r});var o=t(2246);const a=(0,o.Z)("SHOW_NOTIFICATION"),r=(0,o.Z)("REMOVE_NOTIFICATION")},1004:(e,n,t)=>{t.d(n,{r:()=>o});const o=(()=>{try{return!1}catch(e){}return!1})()},8328:(e,n,t)=>{t.d(n,{Ak:()=>o,UZ:()=>a,qP:()=>s});var o,a,r=t(6486),l=t.n(r),i=t(1004);!function(e){e.MenuClick="MenuClick",e.GlobalInteraction="GlobalInteraction"}(o||(o={})),function(e){e.AddArrow="add Arrow",e.AddRect="add Rect",e.AddRectRough="add RectRough",e.AddEllipse="add Ellipse",e.AddEllipseRough="add EllipseRough",e.AddText="add Text",e.AddSelectRect="add SelectRect",e.CopyAll="copy all",e.OpenImage="open image",e.ApplyCrop="apply crop",e.SaveImage="save image",e.ChangeColor="change color",e.ChangeFontSize="change font size",e.ChangeStrokeWidth="change stroke width",e.Sketchify="sketchify",e.BringFront="bring to front",e.SendBack="send to back",e.AboutPage="about page",e.GithubPage="github page",e.DropImage="drop image",e.ShownMobileWarning="ShownMobileWarning"}(a||(a={}));const s=l().debounce((e=>{const n={event_category:e.eventCategory};e.eventLabel&&(n.event_label=e.eventLabel),l().isNumber(e.eventValue)&&(n.value=e.eventValue),l().isBoolean(e.nonInteraction)&&(n.non_interaction=e.nonInteraction);const t=["event",`"${e.eventAction}"`,n];if(i.r)console.log(...t);else try{gtag(...t)}catch(e){console.warn(e)}}),100)},7732:(e,n,t)=>{t.d(n,{t:()=>a});const o=JSON.parse('{"menu.openImage":"Open Image","menu.addArrow":"Add Arrow","menu.addRect":"Add Rectangle","menu.addEllipse":"Add Ellipse","menu.addText":"Add Text","menu.select":"Select","menu.resize":"Resize","menu.save":"Save","menu.copyAll":"Copy All","menu.sketchify":"Sketchify","menu.unsketchify":"Unsketchify","menu.about":"About","menu.blank":"Blank","menu.bringFront":"Bring To Front","menu.sendBack":"Send To Back","all-copied":"All Copied","back":"Back","how-to-start":"Start by dropping an image here (or draw a shape)"}'),a=e=>o.hasOwnProperty(e)?o[e]:e},8910:(e,n,t)=>{t.d(n,{Z:()=>o});const o=e=>new Promise((n=>{const t=new FileReader;t.onload=t=>{const o=new Image;o.addEventListener("load",(()=>{const t=e.name.split(".").slice(0,-1).join(".");n({image:o,name:t})})),o.src=t.target.result},t.readAsDataURL(e)}))},7085:(e,n,t)=>{t.d(n,{P:()=>a.Z,Q:()=>o});var o,a=t(5822);!function(e){e.BringToFront="BringToFront",e.SendToBack="SendToBack"}(o||(o={}))},5822:(e,n,t)=>{var o;t.d(n,{Z:()=>a}),function(e){e.SHAPE="Shape",e.ARROW="Arrow",e.TEXT="Text",e.RECT="Rect",e.IMAGE="Image",e.RECT_ROUGH="RectRough",e.ELLIPSE="Ellipse",e.ELLIPSE_ROUGH="EllipseRough",e.SELECT_RECT="SelectRect"}(o||(o={}));const a=o}},a={};function r(e){var n=a[e];if(void 0!==n)return n.exports;var t=a[e]={id:e,loaded:!1,exports:{}};return o[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}r.m=o,e=[],r.O=(n,t,o,a)=>{if(!t){var l=1/0;for(d=0;d<e.length;d++){for(var[t,o,a]=e[d],i=!0,s=0;s<t.length;s++)(!1&a||l>=a)&&Object.keys(r.O).every((e=>r.O[e](t[s])))?t.splice(s--,1):(i=!1,a<l&&(l=a));if(i){e.splice(d--,1);var c=o();void 0!==c&&(n=c)}}return n}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[t,o,a]},r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((n,t)=>(r.f[t](e,n),n)),[])),r.u=e=>"./js/"+e+".chunk-"+{79:"21806a3a60587f6afb22",178:"a53810dceebe75ae9b58",333:"62697d8bbbbf760c0fe7",678:"94380b043d4a5c3c9746",776:"fbe20211c433f5bf371c"}[e]+".js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),n={},t="imgreview:",r.l=(e,o,a,l)=>{if(n[e])n[e].push(o);else{var i,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==t+a){i=u;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+a),i.src=e),n[e]=[o];var p=(t,o)=>{i.onerror=i.onload=null,clearTimeout(m);var a=n[e];if(delete n[e],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((e=>e(o))),t)return t(o)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),s&&document.head.appendChild(i)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={179:0};r.f.j=(n,t)=>{var o=r.o(e,n)?e[n]:void 0;if(0!==o)if(o)t.push(o[2]);else{var a=new Promise(((t,a)=>o=e[n]=[t,a]));t.push(o[2]=a);var l=r.p+r.u(n),i=new Error;r.l(l,(t=>{if(r.o(e,n)&&(0!==(o=e[n])&&(e[n]=void 0),o)){var a=t&&("load"===t.type?"missing":t.type),l=t&&t.target&&t.target.src;i.message="Loading chunk "+n+" failed.\n("+a+": "+l+")",i.name="ChunkLoadError",i.type=a,i.request=l,o[1](i)}}),"chunk-"+n,n)}},r.O.j=n=>0===e[n];var n=(n,t)=>{var o,a,[l,i,s]=t,c=0;if(l.some((n=>0!==e[n]))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(s)var d=s(r)}for(n&&n(t);c<l.length;c++)a=l[c],r.o(e,a)&&e[a]&&e[a][0](),e[l[c]]=0;return r.O(d)},t=self.webpackChunkimgreview=self.webpackChunkimgreview||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var l=r.O(void 0,[377],(()=>r(9332)));l=r.O(l)})();