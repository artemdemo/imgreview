(()=>{"use strict";var e,t,n,o={1181:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(8081),r=n.n(o),a=n(3645),i=n.n(a)()(r());i.push([e.id,".Button {\n  display: inline-block;\n  font-weight: 400;\n  text-align: center;\n  white-space: nowrap;\n  user-select: none;\n  border: 1px solid transparent;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  line-height: 1.5;\n  border-radius: 0.25rem;\n}\n.Button_block {\n  width: 100%;\n}\n.Button_primary {\n  color: #fff;\n  background-color: #007bff;\n  border-color: #007bff;\n}\n.Button_secondary {\n  color: #fff;\n  background-color: #6c757d;\n  border-color: #6c757d;\n}\n.Button_disabled {\n  color: rgba(255, 255, 255, 0.5);\n  background-color: rgba(108, 117, 125, 0.6);\n  border-color: transparent;\n  cursor: not-allowed;\n}\n",""]);const l=i},9825:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(8081),r=n.n(o),a=n(3645),i=n.n(a)()(r());i.push([e.id,".form-input {\n  display: block;\n  width: 100%;\n  height: calc(2.25rem + 2px);\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  line-height: 1.5;\n  color: #495057;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n",""]);const l=i},2652:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(8081),r=n.n(o),a=n(3645),i=n.n(a)()(r());i.push([e.id,".modal {\n  padding: 5px;\n  border: 1px solid black;\n  display: none;\n}\n.modal_entering {\n  display: block;\n  opacity: 0;\n  transition: opacity 0.2s;\n}\n.modal_open {\n  display: block;\n  opacity: 1;\n}\n.modal_leaving {\n  opacity: 0;\n  transition: opacity 0.2s;\n}\n",""]);const l=i},5641:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(8081),r=n.n(o),a=n(3645),i=n.n(a)()(r());i.push([e.id,".popup {\n  border: 2px solid #ececec;\n  width: 470px;\n  position: absolute;\n  background-color: lightgray;\n  box-shadow: 0 0 60px 0 rgba(0, 0, 0, 0.5);\n  display: none;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%) scale(0);\n  z-index: 1001;\n}\n.popup_entering {\n  display: block;\n  transition: transform ease 0.15s;\n  transform: translate(-50%, -50%) scale(0);\n}\n.popup_open {\n  display: block;\n  transform: translate(-50%, -50%) scale(1);\n}\n.popup_leaving {\n  transition: transform ease 0.15s;\n  transform: translate(-50%, -50%) scale(0);\n}\n.popup-body {\n  padding: 30px 24px 24px 24px;\n}\n.popup-content {\n  display: flex;\n}\n.popup-content__icon {\n  flex-grow: 0;\n  margin-right: 18px;\n}\n.popup-content__text {\n  flex-grow: 1;\n  max-height: 200px;\n  overflow: auto;\n}\n.popup-bg {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: none;\n  z-index: 1000;\n}\n.popup-bg_entering {\n  display: block;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n.popup-bg_open {\n  display: block;\n  opacity: 1;\n}\n.popup-bg_leaving {\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n",""]);const l=i},4644:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(8081),r=n.n(o),a=n(3645),i=n.n(a)()(r());i.push([e.id,".popup-buttons-container {\n  padding-top: 50px;\n  text-align: right;\n}\n",""]);const l=i},7220:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(8081),r=n.n(o),a=n(3645),i=n.n(a)()(r());i.push([e.id,".popup-title {\n  padding: 15px;\n  background-color: #ececec;\n  display: flex;\n}\n.popup-title-section {\n  flex-grow: 1;\n  position: relative;\n}\n.popup-title-section:last-child {\n  flex-grow: 0;\n}\n.popup-title-text {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  position: absolute;\n  left: 0;\n  right: 15px;\n}\n.popup-title-close {\n  background: none;\n  color: inherit;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  outline: inherit;\n  flex-grow: 0;\n}\n",""]);const l=i},7237:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(8081),r=n.n(o),a=n(3645),i=n.n(a)()(r());i.push([e.id,".ClearButton {\n  border: none;\n  margin: 0;\n  padding: 0;\n  width: auto;\n  overflow: visible;\n  background: transparent;\n  cursor: pointer;\n  /* inherit font & color from ancestor */\n  color: inherit;\n  font: inherit;\n  /* Normalize 'line-height'. Cannot be changed from 'normal' in Firefox 4+. */\n  line-height: normal;\n  /* Corrects font smoothing for webkit */\n  -webkit-font-smoothing: inherit;\n  -moz-osx-font-smoothing: inherit;\n  /* Corrects inability to style clickable 'input' types in iOS */\n  -webkit-appearance: none;\n}\n.MenuButton {\n  border: none;\n  margin: 0;\n  padding: 0;\n  width: auto;\n  overflow: visible;\n  background: transparent;\n  cursor: pointer;\n  /* inherit font & color from ancestor */\n  color: inherit;\n  font: inherit;\n  /* Normalize 'line-height'. Cannot be changed from 'normal' in Firefox 4+. */\n  line-height: normal;\n  /* Corrects font smoothing for webkit */\n  -webkit-font-smoothing: inherit;\n  -moz-osx-font-smoothing: inherit;\n  /* Corrects inability to style clickable 'input' types in iOS */\n  -webkit-appearance: none;\n  background-color: #d3d3d3;\n  padding: 4px 6px;\n  border-radius: 3px;\n  float: left;\n  margin-right: 5px;\n  outline: none;\n  display: flex;\n}\n.MenuButton:active,\n.MenuButton:focus {\n  outline: 0;\n}\n.MenuButton:hover {\n  background-color: #c5c5c5;\n}\n.MenuButton_active {\n  background-color: #c5c5c5;\n}\n.MenuButton_posRelative {\n  position: relative;\n}\n.MenuButton_disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n",""]);const l=i},1490:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(8081),r=n.n(o),a=n(3645),i=n.n(a)()(r());i.push([e.id,".Separator {\n  border-right: 1px solid #c1c1c1;\n  margin-right: 5px;\n}\n.SeparatorWrapper {\n  float: left;\n  padding: 1px 0;\n}\n.SeparatorWrapper_hide {\n  display: none;\n}\n",""]);const l=i},7467:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(8081),r=n.n(o),a=n(3645),i=n.n(a)()(r());i.push([e.id,".TopMenuItem__Content {\n  flex-grow: 1;\n  min-width: 22px;\n  text-align: center;\n  font-size: 95%;\n  font-family: Lato, Arial, serif;\n}\n.TopMenuItem__Caret {\n  flex-grow: 0;\n  padding-left: 5px;\n}\n.TopMenuItem__Submenu {\n  position: absolute;\n  display: none;\n  top: 100%;\n  padding-top: 5px;\n  z-index: 10;\n}\n.TopMenuItem__Submenu_open {\n  display: block;\n}\n",""]);const l=i},7456:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(8081),r=n.n(o),a=n(3645),i=n.n(a)()(r());i.push([e.id,".ColorSelector {\n  display: none;\n  position: absolute;\n  z-index: 10;\n}\n.ColorSelector_show {\n  display: block;\n}\n",""]);const l=i},3815:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(8081),r=n.n(o),a=n(3645),i=n.n(a)()(r());i.push([e.id,".ImgIconWrapper {\n  width: var(--img-icon-size);\n  height: var(--img-icon-size);\n  overflow: hidden;\n  display: inline-block;\n  position: relative;\n  vertical-align: text-top;\n}\n.ImgIcon {\n  height: var(--img-icon-size);\n  width: var(--img-icon-collection-width);\n  display: inline-block;\n  background-repeat: no-repeat;\n  background-size: cover;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n",""]);const l=i},5858:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(8081),r=n.n(o),a=n(3645),i=n.n(a)()(r());i.push([e.id,".MIStrokeColor__Current {\n  display: inline-block;\n  width: 19px;\n  height: 17px;\n  vertical-align: bottom;\n}\n",""]);const l=i},5737:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(8081),r=n.n(o),a=n(3645),i=n.n(a)()(r());i.push([e.id,".MIStrokeWidth__Content {\n  display: inline-block;\n}\n",""]);const l=i},1433:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(8081),r=n.n(o),a=n(3645),i=n.n(a),l=n(4075),s=n(3598),c=i()(r());c.i(l.Z),c.i(s.Z),c.push([e.id,"body {\n  background-color: #e2e2e2;\n}\n",""]);const d=c},1119:(e,t,n)=>{var o=n(7294),r=n(958),a=n(3935),i=n(9711),l=n(6974),s=n(3141),c=n(4709),d=n(5857),u=n(3972);const p=(0,u.Z)({[`${c.m}`]:(e,t)=>{const{image:n,name:o}=t.payload;return requestAnimationFrame((()=>{s.QL({image:n,name:o})})),{...e,imageOriginName:o}},[`${c.U}`]:(e,t)=>({...e,width:t.payload.width,height:t.payload.height})},{width:0,height:0,imageOriginName:""});var A=n(2246);const m=(0,A.Z)("SHOW_COLOR_PICKER"),h=(0,A.Z)("SET_MENU_HEIGHT"),b=(0,A.Z)("TOGGLE_SUBMENU"),g=(0,A.Z)("HIDE_COLOR_PICKER"),f=(0,A.Z)("SET_STROKE_WIDTH"),v=(0,A.Z)("SET_STROKE_COLOR"),E=(0,A.Z)("SET_FONT_SIZE"),y=(0,A.Z)("SET_SHAPE_TO_ADD"),k=(0,u.Z)({[`${m}`]:e=>({...e,showColorPicker:!0}),[`${h}`]:(e,t)=>({...e,menuHeight:t.payload}),[`${g}`]:e=>({...e,showColorPicker:!1}),[`${f}`]:(e,t)=>({...e,strokeWidth:t.payload}),[`${v}`]:(e,t)=>({...e,strokeColor:t.payload}),[`${E}`]:(e,t)=>({...e,fontSize:t.payload}),[`${b}`]:(e,t)=>({...e,openSubmenu:t.payload}),[`${y}`]:(e,t)=>({...e,selectedShapeToAdd:t.payload||null})},{strokeColor:"#ee2e21",selectedShapeStrokeColor:null,strokeWidth:3,fontSize:18,showColorPicker:!1,menuHeight:0,openSubmenu:"",selectedShapeToAdd:null}),C=(0,d.UY)({canvas:p,menu:k}),w=(0,d.MT)(C,(0,d.md)());var S=n(6486),P=n.n(S),T=n(9163);const x=T.ZP.div`
  position: fixed;
  bottom: 0;
  right: 5px;
  opacity: 0.2;
`;class Z extends o.PureComponent{constructor(){super(...arguments),this.defaultVersion="x.xx",this.state={version:this.defaultVersion}}componentDidMount(){const e=document.querySelector('[name="app-version"]');e&&this.setState({version:e.getAttribute("content")||this.defaultVersion})}render(){return o.createElement(x,null,this.state.version)}}const I=Z;class M extends o.PureComponent{constructor(){super(...arguments),this.state={Component:null}}componentDidMount(){const{loader:e,isLoaded:t}=this.props;e().then((e=>{this.setState({Component:e.default},(()=>{t&&t()}))}))}render(){const{Component:e}=this.state;return e?o.createElement(e,{...P().omit(this.props,["loader","isLoaded"])}):o.Children.count(this.props.children)>0?this.props.children:o.createElement("span",{style:{fontSize:"80%",opacity:.5,marginRight:5,display:"inline-block"}},"Loading...")}}const R=(z=()=>Promise.all([n.e(214),n.e(79)]).then(n.bind(n,9461)),e=>o.createElement(M,{loader:z,...e}));var z,O=n(8910);class U extends o.PureComponent{constructor(e){super(e),this.onImageLoaded=e=>{const{addImage:t}=this.props;t({image:e.image,name:e.name})},this.readImage=()=>{const e=P().get(this.inputFile,"current.files[0]",null);e&&(0,O.Z)(e).then(this.onImageLoaded)},this.inputFile=o.createRef()}componentDidUpdate(e){!e.open&&this.props.open&&this.inputFile.current.click()}render(){return o.createElement("input",{type:"file",onChange:this.readImage,ref:this.inputFile,style:{display:"none"}})}}U.defaultProps={open:!1};const L=(0,r.$j)((()=>({})),{addImage:c.m})(U);var N=n(7625),W=n(1436);const _="#D3D3D3",B="#c1c1c1";var V,D=n(3379),H=n.n(D),j=n(7795),G=n.n(j),X=n(569),F=n.n(X),q=n(3565),J=n.n(q),Y=n(9216),Q=n.n(Y),K=n(4589),$=n.n(K),ee=n(3815),te={};te.styleTagTransform=$(),te.setAttributes=J(),te.insert=F().bind(null,"head"),te.domAPI=G(),te.insertStyleElement=Q(),H()(ee.Z,te),ee.Z&&ee.Z.locals&&ee.Z.locals,function(e){e[e.load=0]="load",e[e.save=1]="save",e[e.copy=2]="copy",e[e.arrow=3]="arrow",e[e.text=4]="text",e[e.rectangle=5]="rectangle",e[e.circle=6]="circle",e[e.rectSelect=7]="rectSelect",e[e.resize=8]="resize",e[e.strokeWidth=9]="strokeWidth",e[e.crop=10]="crop",e[e.fontSize=11]="fontSize",e[e.check=12]="check",e[e.zoom=13]="zoom",e[e.info=14]="info"}(V||(V={}));const ne=e=>{const{icon:t}=e,n=(0,o.useRef)(null);return(0,o.useEffect)((()=>{const e=Object.keys(V).length/2;n.current?.style.setProperty("--img-icon-size","20px"),n.current?.style.setProperty("--img-icon-collection-width",20*e+"px")}),[]),o.createElement("span",{className:"ImgIconWrapper",ref:n},o.createElement("span",{className:"ImgIcon",style:{backgroundImage:"url('data:image/png;base64,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')",left:-1*Number(t)*20}}))},oe=T.ZP.div`
  background-color: ${_};
  border: 1px solid ${B};
  border-radius: 3px;
  padding: 3px;
`,re=T.ZP.div`
  padding: 4px 10px;
  border-bottom: 1px dashed ${B};
  display: flex;
  text-align: left;

  &:last-child {
    border-bottom: none;
  }
`,ae=T.ZP.div`
  flex-grow: 1;
`,ie=T.ZP.div`
  flex-grow: 0;
  padding-left: 10px;
`;class le extends o.PureComponent{static renderCheck(e){return e.selected?o.createElement(ie,null,o.createElement(ne,{icon:V.check})):null}render(){const{data:e}=this.props;return o.createElement(oe,null,e.map((e=>o.createElement(re,{onClick:t=>{e.onClick(e,t)},key:`submenu-item-${e.text}`},o.createElement(ae,null,e.text),le.renderCheck(e)))))}}le.defaultProps={data:[]};const se=le;var ce=n(7237),de={};de.styleTagTransform=$(),de.setAttributes=J(),de.insert=F().bind(null,"head"),de.domAPI=G(),de.insertStyleElement=Q(),H()(ce.Z,de),ce.Z&&ce.Z.locals&&ce.Z.locals;var ue=n(4184),pe=n.n(ue);const Ae=e=>{const{disabled:t=!1,active:n=!1,onClick:r,className:a,title:i,posRelative:l,href:s=""}=e,c=pe()(a,"MenuButton",{MenuButton_active:n,MenuButton_posRelative:l,MenuButton_disabled:t});return 0===s.length?o.createElement("button",{className:c,onClick:r,title:i,type:"button"},e.children):o.createElement("a",{className:c,onClick:r,title:i,href:s},e.children)};var me=n(7467),he={};he.styleTagTransform=$(),he.setAttributes=J(),he.insert=F().bind(null,"head"),he.domAPI=G(),he.insertStyleElement=Q(),H()(me.Z,he),me.Z&&me.Z.locals&&me.Z.locals;const be=e=>{const{subMenu:t=[],disabled:n,active:r,open:a=!1,href:i="",title:l="",onClick:s,stopPropagation:c=!0,children:d}=e,u=()=>t.length>0;return o.createElement(Ae,{disabled:n,active:r,onClick:e=>{c&&e.stopPropagation(),s&&s(e)},href:i,title:l,posRelative:u()},o.createElement("span",{className:"TopMenuItem__Content"},d),u()?o.createElement(o.Fragment,null,o.createElement("span",{className:"TopMenuItem__Caret"},o.createElement(N.G,{icon:W.gc2})),o.createElement("div",{className:pe()({TopMenuItem__Submenu:!0,TopMenuItem__Submenu_open:a})},o.createElement(se,{data:t}))):null)};var ge=n(8328);const fe=JSON.parse('{"menu.openImage":"Open Image","menu.addArrow":"Add Arrow","menu.addRect":"Add Rectangle","menu.addEllipse":"Add Ellipse","menu.addText":"Add Text","menu.select":"Select","menu.resize":"Resize","menu.save":"Save","menu.copyAll":"Copy All","menu.sketchify":"Sketchify","menu.unsketchify":"Unsketchify","menu.blank":"Blank"}'),ve=e=>fe.hasOwnProperty(e)?fe[e]:e,Ee=e=>{const{disabled:t=!1}=e,[n,r]=(0,o.useState)(!1);return o.createElement(o.Fragment,null,o.createElement(be,{onClick:()=>{r(!0),ge.qP({eventCategory:ge.Ak.MenuClick,eventAction:ge.UZ.OpenImage})},disabled:t,title:ve("menu.openImage"),stopPropagation:!1},o.createElement(ne,{icon:V.load})),o.createElement(L,{open:n}))},ye=T.ZP.div`
  margin-bottom: 1rem;
`,ke=T.ZP.div`
  position: absolute;
  color: #f44336;
`;class Ce extends o.PureComponent{renderError(){return""!==this.props.errorText?o.createElement(ke,null,this.props.errorText):null}render(){return o.createElement(ye,null,this.props.children,this.renderError())}}Ce.defaultProps={errorText:""};const we=Ce;var Se=n(9825),Pe={};Pe.styleTagTransform=$(),Pe.setAttributes=J(),Pe.insert=F().bind(null,"head"),Pe.domAPI=G(),Pe.insertStyleElement=Q(),H()(Se.Z,Pe),Se.Z&&Se.Z.locals&&Se.Z.locals;const Te=e=>o.createElement("input",{...e,className:"form-input"});var xe=n(4644),Ze={};Ze.styleTagTransform=$(),Ze.setAttributes=J(),Ze.insert=F().bind(null,"head"),Ze.domAPI=G(),Ze.insertStyleElement=Q(),H()(xe.Z,Ze),xe.Z&&xe.Z.locals&&xe.Z.locals;const Ie=e=>o.createElement("div",{className:"popup-buttons-container"},e.children),Me=T.ZP.div`
  margin-right: 14px;
  display: inline-block;

  &:last-child {
    margin-right: 0;
  }
`,Re=e=>o.createElement(o.Fragment,null,o.Children.map(e.children,(e=>o.createElement(Me,null,e))));var ze,Oe=n(1181),Ue={};Ue.styleTagTransform=$(),Ue.setAttributes=J(),Ue.insert=F().bind(null,"head"),Ue.domAPI=G(),Ue.insertStyleElement=Q(),H()(Oe.Z,Ue),Oe.Z&&Oe.Z.locals&&Oe.Z.locals,function(e){e[e.PRIMARY=0]="PRIMARY",e[e.SECONDARY=1]="SECONDARY"}(ze||(ze={}));const Le=e=>{const{appearance:t,children:n,block:r=!1,disabled:a,type:i="button",...l}=e;return o.createElement("button",{className:pe()({Button:!0,Button_primary:t===ze.PRIMARY||!t,Button_secondary:t===ze.SECONDARY,Button_block:r,Button_disabled:a}),disabled:a,type:i,...l},n)};var Ne=n(5530),We=n.n(Ne);class _e extends o.PureComponent{constructor(){super(...arguments),this.handleClickOutside=()=>{const{onClickOutside:e}=this.props;e()}}render(){return this.props.children}}const Be=We()(_e);var Ve=n(2652),De={};De.styleTagTransform=$(),De.setAttributes=J(),De.insert=F().bind(null,"head"),De.domAPI=G(),De.insertStyleElement=Q(),H()(Ve.Z,De),Ve.Z&&Ve.Z.locals&&Ve.Z.locals;const He=e=>{const{base:t,onClose:n,show:r,onOpen:i,hideClickOutside:l,children:s,baseClass:c,className:d}=e,u=(0,o.useRef)(null),p=(0,o.useRef)(null),[A,m]=(0,o.useState)(!1),[h,b]=(0,o.useState)(!1),[g,f]=(0,o.useState)(!1),[v,E]=(0,o.useState)(!1);(0,o.useEffect)((()=>(t&&(u.current&&t.removeChild(u.current),u.current=document.createElement("div"),t.appendChild(u.current)),E(!0),()=>{t&&u.current&&t.removeChild(u.current)})),[]),(0,o.useEffect)((()=>{v&&(r?(m(!0),setTimeout((()=>{b(!0)}))):f(!0))}),[r]);if(!P().isString(c)||c.replace(/\s+/," ").split(" ").length>1)throw new Error("baseClass may contain one class at most");const y=pe()(c,d,{[`${c}_entering`]:A,[`${c}_open`]:h,[`${c}_leaving`]:g}),k=o.createElement("div",{className:y,onTransitionEnd:e=>{e.target===p.current&&(A&&m(!1),g&&(b(!1),f(!1)),h&&i&&i())},ref:p},l?o.createElement(Be,{onClickOutside:()=>{!A&&h&&n&&n()}},s):s);return t&&u.current?(0,a.createPortal)(k,u.current):k},je=e=>{const{buttons:t}=e;if(t&&t.length>0)return o.createElement(Ie,null,o.createElement(Re,null,t.map(((e,t)=>o.createElement(Le,{...e,key:`popup-button-${t}`,type:"button"},e.text)))));const n=t;return o.createElement(Ie,null,o.createElement(Le,{...n,type:"button"},n.text))};var Ge=n(5641),Xe={};Xe.styleTagTransform=$(),Xe.setAttributes=J(),Xe.insert=F().bind(null,"head"),Xe.domAPI=G(),Xe.insertStyleElement=Q(),H()(Ge.Z,Xe),Ge.Z&&Ge.Z.locals&&Ge.Z.locals;var Fe=n(7220),qe={};qe.styleTagTransform=$(),qe.setAttributes=J(),qe.insert=F().bind(null,"head"),qe.domAPI=G(),qe.insertStyleElement=Q(),H()(Fe.Z,qe),Fe.Z&&Fe.Z.locals&&Fe.Z.locals;const Je=T.iv`
  border: none;
  margin: 0;
  padding: 0;
  width: auto;
  overflow: visible;

  background: transparent;

  cursor: pointer;

  /* inherit font & color from ancestor */
  color: inherit;
  font: inherit;

  /* Normalize 'line-height'. Cannot be changed from 'normal' in Firefox 4+. */
  line-height: normal;

  /* Corrects font smoothing for webkit */
  -webkit-font-smoothing: inherit;
  -moz-osx-font-smoothing: inherit;

  /* Corrects inability to style clickable 'input' types in iOS */
  -webkit-appearance: none;
`,Ye=T.ZP.button`
  ${Je}
`,Qe=e=>{const{title:t,showCloseBtn:n,onClose:r}=e;return o.createElement("div",{className:"popup-title"},o.createElement("div",{className:"popup-title-section"},t.length>0?o.createElement("div",{className:"popup-title-text"},t):o.createElement("span",null," ")),o.createElement("div",{className:"popup-title-section"},n?o.createElement(Ye,{onClick:r,type:"button",className:"popup-title-close"},"×"):o.createElement("span",null," ")))},Ke=e=>{const{onClose:t,onOpen:n,contentIcon:r,base:a,className:i,buttons:l,hideClickOutside:s,title:c,show:d,children:u}=e;return o.createElement(o.Fragment,null,o.createElement(He,{baseClass:"popup-bg",show:d,hideClickOutside:!1,base:a},o.createElement("div",null)),o.createElement(He,{className:i,baseClass:"popup",show:d,hideClickOutside:s,onClose:t,onOpen:n,base:a},o.createElement("div",null,!!c&&o.createElement(Qe,{title:c,onClose:t,showCloseBtn:!0}),o.createElement("div",{className:"popup-body"},r?o.createElement("div",{className:"popup-content"},o.createElement("div",{className:"popup-content__icon"},r),o.createElement("div",{className:"popup-content__text"},u)):u,!!l&&o.createElement(je,{buttons:l})))))},$e=e=>{const{onCancel:t,onSubmit:n,nameInit:r,show:a}=e,[i,l]=(0,o.useState)(""),[s,c]=(0,o.useState)("");return(0,o.useEffect)((()=>{a&&l(r)}),[a]),(0,o.useEffect)((()=>{""===i.replace(/\s/g,"")?c("Name can't be empty"):c("")}),[i]),o.createElement(Ke,{showCloseBtn:!1,onClose:()=>{l(""),c(""),t()},show:a},o.createElement("form",{onSubmit:e=>{e.preventDefault(),n(i)}},o.createElement(we,{errorText:s},o.createElement("label",{htmlFor:"saveAs"},"Save as (*.png)"),o.createElement(Te,{placeholder:"Enter file name",id:"saveAs",value:i,onChange:e=>{l(e.target.value)}})),o.createElement(Ie,null,o.createElement(Re,null,o.createElement(Le,{onClick:t,appearance:ze.SECONDARY},"Cancel"),o.createElement(Le,{type:"submit",disabled:""!==s},"Save")))))},et=e=>{const{disabled:t}=e,[n,a]=(0,o.useState)(""),[i,l]=(0,o.useState)(!1),c=(0,r.v9)((e=>e.canvas));return o.createElement(o.Fragment,null,o.createElement(be,{onClick:()=>{a(c.imageOriginName),l(!0),ge.qP({eventCategory:ge.Ak.MenuClick,eventAction:ge.UZ.SaveImage})},title:ve("menu.save"),disabled:t,stopPropagation:!1},o.createElement(ne,{icon:V.save})),o.createElement($e,{onSubmit:e=>{""!==e&&(s.BV(e.trim()),l(!1))},onCancel:()=>{l(!1)},show:i,nameInit:n}))},tt=e=>{const{disabled:t=!1}=e;return o.createElement(be,{onClick:()=>{requestAnimationFrame((()=>{s.kb()})),ge.qP({eventCategory:ge.Ak.MenuClick,eventAction:ge.UZ.CopyAll})},disabled:t,stopPropagation:!1,title:ve("menu.copyAll")},o.createElement(ne,{icon:V.copy}))},nt=e=>{const{disabled:t=!1}=e,n=(0,r.I0)(),a=(0,r.v9)((e=>e.menu));return o.createElement(be,{onClick:()=>{s.UG({type:s.PU.ARROW,options:{strokeColor:a.strokeColor,strokeWidth:a.strokeWidth}}),n(y(s.PU.ARROW)),ge.qP({eventCategory:ge.Ak.MenuClick,eventAction:ge.UZ.AddArrow})},disabled:t,active:a.selectedShapeToAdd===s.PU.ARROW,title:ve("menu.addArrow")},o.createElement(ne,{icon:V.arrow}))},ot=e=>{const{disabled:t}=e,n=(0,r.I0)(),a=(0,r.v9)((e=>e.menu));return o.createElement(be,{onClick:()=>{s.UG({type:s.PU.TEXT,options:{fillColor:a.strokeColor,fontSize:a.fontSize}}),n(y(s.PU.TEXT)),ge.qP({eventCategory:ge.Ak.MenuClick,eventAction:ge.UZ.AddText})},disabled:t,active:a.selectedShapeToAdd===s.PU.TEXT,title:ve("menu.addText")},o.createElement(ne,{icon:V.text}))},rt=e=>{const{disabled:t}=e;return o.createElement(be,{onClick:()=>{s.On(),ge.qP({eventCategory:ge.Ak.MenuClick,eventAction:ge.UZ.ApplyCrop})},disabled:t},o.createElement(ne,{icon:V.crop}))},at=e=>{const{disabled:t=!1}=e,n=(0,r.I0)(),a=(0,r.v9)((e=>e.menu));return o.createElement(be,{onClick:()=>{s.UG({type:s.PU.SELECT_RECT}),n(y(s.PU.SELECT_RECT)),ge.qP({eventCategory:ge.Ak.MenuClick,eventAction:ge.UZ.AddSelectRect})},disabled:t,active:a.selectedShapeToAdd===s.PU.SELECT_RECT,title:ve("menu.select")},o.createElement(ne,{icon:V.rectSelect}))},it=e=>{const{disabled:t=!1}=e,n=(0,r.I0)(),a=(0,r.v9)((e=>e.menu));return o.createElement(be,{onClick:()=>{s.UG({type:s.PU.RECT,options:{strokeColor:a.strokeColor,strokeWidth:a.strokeWidth}}),n(y(s.PU.RECT)),ge.qP({eventCategory:ge.Ak.MenuClick,eventAction:ge.UZ.AddRect})},disabled:t,active:a.selectedShapeToAdd===s.PU.RECT,title:ve("menu.addRect")},o.createElement(ne,{icon:V.rectangle}))},lt=e=>{const{disabled:t=!1}=e,n=(0,r.I0)(),a=(0,r.v9)((e=>e.menu));return o.createElement(be,{onClick:()=>{s.UG({type:s.PU.ELLIPSE,options:{strokeColor:a.strokeColor,strokeWidth:a.strokeWidth}}),n(y(s.PU.ELLIPSE)),ge.qP({eventCategory:ge.Ak.MenuClick,eventAction:ge.UZ.AddEllipse})},disabled:t,active:a.selectedShapeToAdd===s.PU.ELLIPSE,title:ve("menu.addEllipse")},o.createElement(ne,{icon:V.circle}))},st=e=>{const{disabled:t,reverse:n=!1}=e,r=ve(n?"menu.unsketchify":"menu.sketchify");return o.createElement(be,{onClick:()=>{s.Si(),ge.qP({eventCategory:ge.Ak.MenuClick,eventAction:ge.UZ.Sketchify})},title:r,disabled:t},r)};var ct=n(3508),dt=n(6767),ut=n.n(dt);const pt=e=>{const t=ut()(e).object();return{r:t.r,g:t.g,b:t.b,a:t.alpha}};var At=n(7456),mt={};mt.styleTagTransform=$(),mt.setAttributes=J(),mt.insert=F().bind(null,"head"),mt.domAPI=G(),mt.insertStyleElement=Q(),H()(At.Z,mt),At.Z&&At.Z.locals&&At.Z.locals;const ht=e=>{const{onChange:t}=e,n=(0,r.I0)(),a=(0,r.v9)((e=>e.menu));return o.createElement(Be,{onClickOutside:()=>{a.showColorPicker&&n(g())}},o.createElement("div",{onClick:e=>{e.stopPropagation()},className:pe()({ColorSelector:!0,ColorSelector_show:a.showColorPicker}),style:{top:a.menuHeight}},o.createElement(ct.AI,{onChange:e=>{t((e=>ut()(e.hex).alpha(e.rgb.a??1).rgb().toString())(e))},color:pt(a.strokeColor)})))};var bt=n(5858),gt={};gt.styleTagTransform=$(),gt.setAttributes=J(),gt.insert=F().bind(null,"head"),gt.domAPI=G(),gt.insertStyleElement=Q(),H()(bt.Z,gt),bt.Z&&bt.Z.locals&&bt.Z.locals;const ft=e=>{const t=(e=>{if(P().isFunction(e.getStrokeColor))return e.getStrokeColor();if(P().isFunction(e.getFillColor))return e.getFillColor();throw new Error("Can't get shape color")})(e);w.dispatch(v(t))};s.QA.on(ft),s.QY.on(ft);const vt=e=>{const{disabled:t}=e,n=(0,r.I0)(),a=(0,r.v9)((e=>e.menu));return o.createElement(be,{onClick:()=>{n(m())},disabled:t},o.createElement("div",{className:"MIStrokeColor__Current",style:{backgroundColor:a.strokeColor}}),o.createElement(ht,{onChange:e=>{n(v(e)),s.xd(e),ge.qP({eventCategory:ge.Ak.MenuClick,eventAction:ge.UZ.ChangeColor})}}))};var Et=n(5737),yt={};yt.styleTagTransform=$(),yt.setAttributes=J(),yt.insert=F().bind(null,"head"),yt.domAPI=G(),yt.insertStyleElement=Q(),H()(Et.Z,yt),Et.Z&&Et.Z.locals&&Et.Z.locals;const kt=e=>{P().isFunction(e.getStrokeWidth)&&w.dispatch(f(e.getStrokeWidth()))};s.QA.on(kt),s.QY.on(kt);const Ct="STROKE_WIDTH",wt=e=>{const{disabled:t}=e,n=(0,r.v9)((e=>e.menu)),a=(0,r.I0)(),i=e=>{a(f(e.value)),s.b8(e.value),ge.qP({eventCategory:ge.Ak.MenuClick,eventAction:ge.UZ.ChangeStrokeWidth})};return o.createElement(Be,{onClickOutside:()=>{n.openSubmenu===Ct&&requestAnimationFrame((()=>{a(b(""))}))}},o.createElement(be,{subMenu:[2,3,5,6,7,8,10].map((e=>({text:`${e}px`,value:e,selected:n.strokeWidth===e,onClick:i}))),open:n.openSubmenu===Ct,disabled:t,onClick:()=>{a(b(""===n.openSubmenu?Ct:""))}},o.createElement("span",{className:"MIStrokeWidth__Content"},n.strokeWidth,"px"),o.createElement(ne,{icon:V.strokeWidth})))},St="FONT_SIZE",Pt=e=>{const{disabled:t}=e,n=(0,r.v9)((e=>e.menu)),a=(0,r.I0)(),i=e=>{a(E(e.value)),s.vw(e.value),ge.qP({eventCategory:ge.Ak.MenuClick,eventAction:ge.UZ.ChangeFontSize,eventValue:e.value})};return o.createElement(Be,{onClickOutside:()=>{n.openSubmenu===St&&requestAnimationFrame((()=>{a(b(""))}))}},o.createElement(be,{subMenu:[12,14,16,18,20,25].map((e=>({text:`${e}px`,value:e,selected:n.fontSize===e,onClick:i}))),open:n.openSubmenu===St,disabled:t,onClick:()=>{a(b(""===n.openSubmenu?St:""))}},o.createElement(ne,{icon:V.fontSize})))};function Tt(e,t){switch(t.type){case"width":return{...e,width:t.data};case"height":return{...e,height:t.data};case"ratioInit":return{...e,ratioInit:t.data};default:return e}}function xt(e,t){switch(t.type){case"widthError":return{...e,widthError:t.data};case"heightError":return{...e,heightError:t.data};default:return e}}const Zt=e=>{const{onSubmit:t,onCancel:n,widthInit:r,heightInit:a,show:i}=e,[l,s]=(0,o.useReducer)(Tt,{width:0,height:0,ratioInit:1}),[c,d]=(0,o.useReducer)(xt,{widthError:"",heightError:""});(0,o.useEffect)((()=>{i&&(s({type:"width",data:r}),s({type:"height",data:a}),s({type:"ratioInit",data:r/a}))}),[i]),(0,o.useEffect)((()=>{const e={};["width","height"].forEach((t=>{var n;("string"==typeof(n=l[t])&&""!==n?Number(n)!=Number(n):isNaN(n)||"number"!=typeof n)?e[t]="Must be a number":Number(l[t])<80?e[t]="Value is too small":Number(l[t])>5e3&&(e[t]="Value is too big")})),d({type:"widthError",data:e.width||""}),d({type:"heightError",data:e.height||""})}),[l]);const u=e=>o.createElement(we,{errorText:c[`${e}Error`]},o.createElement("label",{htmlFor:`img-${e}`},e," (px)"),o.createElement(Te,{placeholder:`Enter ${e}`,value:l[e],onChange:t=>{const{value:n}=t.target;s({type:e,data:n})},id:`img-${e}`}));return o.createElement(Ke,{title:"Resize image",onClose:n,show:i,showCloseBtn:!1},o.createElement("form",{onSubmit:e=>{e.preventDefault(),t({width:l.width,height:l.height})}},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-sm"},u("width")),o.createElement("div",{className:"col-sm"},u("height"))),o.createElement(Ie,null,o.createElement(Re,null,o.createElement(Le,{onClick:n,appearance:ze.SECONDARY},"Cancel"),o.createElement(Le,{type:"submit",disabled:""!==c.widthError||""!==c.heightError},"Resize")))))},It=e=>{const{disabled:t}=e,[n,a]=(0,o.useState)(0),[i,l]=(0,o.useState)(0),[c,d]=(0,o.useState)(!1),u=(0,r.v9)((e=>e.canvas));return o.createElement(o.Fragment,null,o.createElement(be,{onClick:()=>{a(u.width),l(u.height),d(!0)},disabled:t,title:ve("menu.resize"),stopPropagation:!1},o.createElement(ne,{icon:V.resize})),o.createElement(Zt,{widthInit:n,heightInit:i,onSubmit:e=>{const t=Number(e.width),n=Number(e.height);t>0&&n>0&&(a(0),l(0),d(!1),s.UP({width:t,height:n}))},onCancel:()=>{d(!1)},show:c}))};var Mt=n(1417);const Rt=()=>o.createElement(be,{href:"https://github.com/artemdemo/imgreview"},o.createElement(N.G,{icon:Mt.zhw})),zt=e=>{const t=(0,r.I0)();return o.createElement(be,{onClick:()=>{const e={width:800,height:500};s.Hy(e),t((0,c.U)(e))},stopPropagation:!1},ve("menu.blank"))},Ot=T.ZP.div`
  &::after {
    content: '';
    display: table;
    clear: both;
  }
`,Ut=(0,T.ZP)(Ot)`
  padding: 4px 15px;
  background-color: ${_};
  z-index: ${10};
`,Lt=T.ZP.div`
  float: right;
`;var Nt=n(1004),Wt=n(1490),_t={};_t.styleTagTransform=$(),_t.setAttributes=J(),_t.insert=F().bind(null,"head"),_t.domAPI=G(),_t.insertStyleElement=Q(),H()(Wt.Z,_t),Wt.Z&&Wt.Z.locals&&Wt.Z.locals;const Bt=e=>{const{show:t=!0}=e;return o.createElement("span",{className:pe()({SeparatorWrapper:!0,SeparatorWrapper_hide:!t})},o.createElement("span",{className:"Separator"}))},Vt=e=>{const{children:t}=e;return o.Children.toArray(t).length>0?o.createElement(o.Fragment,null,t,o.createElement(Bt,null)):null};var Dt,Ht,jt,Gt,Xt=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},Ft=function(e,t,n,o,r){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?r.call(e,n):r?r.value=n:t.set(e,n),n};class qt extends o.PureComponent{constructor(){super(...arguments),Dt.set(this,o.createRef()),Ht.set(this,void 0),jt.set(this,void 0),Gt.set(this,void 0),this.state={showStrokeColor:!1,showStrokeWidth:!1,showCrop:!1,showFontSize:!1,showSketchify:!1,clickedShapeType:void 0},this.setItemsVisibility=e=>{const{setShapeToAdd:t,hideColorPicker:n}=this.props;t(),n();const o={showStrokeColor:!1,showStrokeWidth:!1,showCrop:!1,showFontSize:!1,showSketchify:!1,clickedShapeType:e?.type};switch(e?.type){case s.PU.ARROW:case s.PU.RECT_ROUGH:case s.PU.ELLIPSE_ROUGH:o.showStrokeColor=!0,o.showStrokeWidth=!0;break;case s.PU.RECT:case s.PU.ELLIPSE:o.showStrokeColor=!0,o.showStrokeWidth=!0,o.showSketchify=!0;break;case s.PU.TEXT:o.showStrokeColor=!0,o.showFontSize=!0;break;case s.PU.SELECT_RECT:o.showCrop=!0}this.setState(o)},this.handleMenuClick=()=>{s.Du()}}componentDidMount(){const{setMenuHeight:e}=this.props,{offsetHeight:t}=Xt(this,Dt,"f").current||{};t&&e(t),Ft(this,Ht,s.Jt.on(this.setItemsVisibility),"f"),Ft(this,jt,s.QA.on((e=>{requestAnimationFrame((()=>this.setItemsVisibility(e)))})),"f"),Ft(this,Gt,s.f6.on((e=>{this.setItemsVisibility(e)})),"f")}componentWillUnmount(){Xt(this,Ht,"f")(),Xt(this,jt,"f")(),Xt(this,Gt,"f")()}render(){const{canvas:e}=this.props,t=0===e.height&&0===e.width;return o.createElement(Ut,{onClick:this.handleMenuClick,ref:Xt(this,Dt,"f")},o.createElement(Vt,null,o.createElement(Ee,null),o.createElement(et,{disabled:t}),o.createElement(tt,{disabled:t})),o.createElement(Vt,null,o.createElement(nt,{disabled:t}),o.createElement(ot,{disabled:t}),o.createElement(it,{disabled:t}),o.createElement(lt,{disabled:t}),o.createElement(at,{disabled:t})),o.createElement(Vt,null,this.state.showCrop&&o.createElement(rt,{disabled:t}),this.state.showStrokeColor&&o.createElement(vt,{disabled:t}),this.state.showStrokeWidth&&o.createElement(wt,{disabled:t}),this.state.showFontSize&&o.createElement(Pt,{disabled:t}),this.state.showSketchify&&o.createElement(st,{disabled:t,reverse:this.state.clickedShapeType===s.PU.RECT_ROUGH||this.state.clickedShapeType===s.PU.ELLIPSE_ROUGH})),o.createElement(It,{disabled:t}),Nt.r&&o.createElement(zt,null),o.createElement(Lt,null,o.createElement(Rt,null)))}}Dt=new WeakMap,Ht=new WeakMap,jt=new WeakMap,Gt=new WeakMap;const Jt=(0,r.$j)((e=>({canvas:e.canvas})),{setMenuHeight:h,setShapeToAdd:y,hideColorPicker:g})(qt);var Yt=n(6808),Qt=n.n(Yt);const Kt=(()=>{const e=navigator.userAgent||navigator.vendor||window?.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.slice(0,4))})(),$t=T.ZP.div`
  position: absolute;
  top: 0;
  bottom: 0;
  width: 100%;
  background-color: #00000052;
  z-index: 100;
`,en=T.ZP.div`
  position: absolute;
  top: 15%;
  left: 50%;
  transform: translateX(-50%);
  width: 300px;
  padding: 10px 10px 12px 10px;
  border-radius: 5px;
  background-color: white;
`,tn="mobileWarningShown",nn="true";class on extends o.PureComponent{constructor(){super(...arguments),this.state={display:!1},this.handleGotIt=()=>{this.setState({display:!1}),Qt().set(tn,nn,{expires:30})}}componentDidMount(){Kt&&Qt().get(tn)!==nn&&(this.setState({display:!0}),ge.qP({eventCategory:ge.Ak.GlobalInteraction,eventAction:ge.UZ.ShownMobileWarning}))}render(){return this.state.display?o.createElement($t,null,o.createElement(en,null,o.createElement("p",null,"ImgReview currently does not support mobile devices."),o.createElement(Le,{appearance:ze.PRIMARY,onClick:this.handleGotIt,block:!0},"Got it"))):null}}const rn=on;var an=n(1433),ln={};ln.styleTagTransform=$(),ln.setAttributes=J(),ln.insert=F().bind(null,"head"),ln.domAPI=G(),ln.insertStyleElement=Q(),H()(an.Z,ln),an.Z&&an.Z.locals&&an.Z.locals;class sn extends o.PureComponent{constructor(){super(...arguments),this.clickOnBody=e=>{const t="HTML"===P().get(e.target,"tagName"),n=e.target&&"app"===e.target.getAttribute("id");(t||n)&&s.Du()}}componentDidMount(){document.addEventListener("click",this.clickOnBody)}componentWillUnmount(){document.removeEventListener("click",this.clickOnBody)}render(){return o.createElement(o.Fragment,null,o.createElement(I,null),o.createElement(Jt,null),o.createElement(R,null),o.createElement(rn,null))}}const cn=sn,dn=()=>o.createElement(o.Fragment,null,"AboutView");s.rJ.on((e=>{w.dispatch((0,c.U)(e))}));const un=()=>o.createElement(r.zt,{store:w},o.createElement(i.VK,null,o.createElement(l.Z5,null,o.createElement(l.AW,{path:"/",element:o.createElement(cn,null)}),o.createElement(l.AW,{path:"/about",element:o.createElement(dn,null)})))),pn=("app",document.getElementById("app"));pn.hasChildNodes()?a.hydrate(o.createElement(un,null),pn):a.render(o.createElement(un,null),pn)},4709:(e,t,n)=>{n.d(t,{m:()=>r,U:()=>a});var o=n(2246);const r=(0,o.Z)("ADD_IMAGE"),a=(0,o.Z)("UPDATE_CANVAS_SIZE")},1004:(e,t,n)=>{n.d(t,{r:()=>o});const o=(()=>{try{return!1}catch(e){}return!1})()},8328:(e,t,n)=>{n.d(t,{Ak:()=>o,UZ:()=>r,qP:()=>s});var o,r,a=n(6486),i=n.n(a),l=n(1004);!function(e){e.MenuClick="MenuClick",e.GlobalInteraction="GlobalInteraction"}(o||(o={})),function(e){e.AddArrow="add Arrow",e.AddRect="add Rect",e.AddRectRough="add RectRough",e.AddEllipse="add Ellipse",e.AddEllipseRough="add EllipseRough",e.AddText="add Text",e.AddSelectRect="add SelectRect",e.CopyAll="copy all",e.OpenImage="open image",e.ApplyCrop="apply crop",e.SaveImage="save image",e.ChangeColor="change color",e.ChangeFontSize="change font size",e.ChangeStrokeWidth="change stroke width",e.Sketchify="sketchify",e.DropImage="drop image",e.ShownMobileWarning="ShownMobileWarning"}(r||(r={}));const s=i().debounce((e=>{const t={event_category:e.eventCategory};e.eventLabel&&(t.event_label=e.eventLabel),i().isNumber(e.eventValue)&&(t.value=e.eventValue),i().isBoolean(e.nonInteraction)&&(t.non_interaction=e.nonInteraction);const n=["event",e.eventAction,t];if(l.r)console.log(...n);else try{gtag(...n)}catch(e){console.warn(e)}}),100)},8910:(e,t,n)=>{n.d(t,{Z:()=>o});const o=e=>new Promise((t=>{const n=new FileReader;n.onload=n=>{const o=new Image;o.addEventListener("load",(()=>{const n=e.name.split(".").slice(0,-1).join(".");t({image:o,name:n})})),o.src=n.target.result},n.readAsDataURL(e)}))},736:(e,t,n)=>{var o;n.d(t,{Z:()=>r}),function(e){e.SHAPE="Shape",e.ARROW="Arrow",e.TEXT="Text",e.RECT="Rect",e.RECT_ROUGH="RectRough",e.ELLIPSE="Ellipse",e.ELLIPSE_ROUGH="EllipseRough",e.SELECT_RECT="SelectRect"}(o||(o={}));const r=o},3141:(e,t,n)=>{n.d(t,{PU:()=>a.Z,Du:()=>b,kb:()=>m,rl:()=>l,On:()=>g,BV:()=>A,rJ:()=>E,Hy:()=>v,vw:()=>p,QL:()=>c,xd:()=>d,b8:()=>u,f6:()=>w,QA:()=>y,QY:()=>k,Jt:()=>C,Si:()=>f,UG:()=>s,UP:()=>h});var o=n(8111);function r(e,t){const n=function(n){e.emit(t,n)};return n.toString=()=>t,n.on=n=>e.on(t,n),n}var a=n(736);const i=(0,o.i)(),l=r(i,"CREATE_SHAPE"),s=r(i,"START_ADDING_SHAPE"),c=r(i,"SET_IMAGE"),d=r(i,"SET_STROKE_COLOR_TO_ACTIVE_SHAPE"),u=r(i,"SET_STROKE_WIDTH_TO_ACTIVE_SHAPE"),p=r(i,"SET_FONT_SIZE_TO_ACTIVE_SHAPE"),A=r(i,"EXPORT_CANVAS_TO_IMAGE"),m=r(i,"COPY_ALL_TO_CLIPBOARD"),h=r(i,"UPDATE_CANVAS_SIZE"),b=r(i,"BLUR_SHAPES"),g=r(i,"CROP_SELECTED"),f=r(i,"SKETCHIFY_ACTIVE_SHAPE"),v=r(i,"INIT_BLANK_CANVAS"),E=r(i,"IMAGE_UPDATED"),y=r(i,"SHAPE_CLICKED"),k=r(i,"SHAPE_DRAG_STARTED"),C=r(i,"SHAPES_BLURRED"),w=r(i,"SHAPE_ADDED")}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=o,e=[],a.O=(t,n,o,r)=>{if(!n){var i=1/0;for(d=0;d<e.length;d++){for(var[n,o,r]=e[d],l=!0,s=0;s<n.length;s++)(!1&r||i>=r)&&Object.keys(a.O).every((e=>a.O[e](n[s])))?n.splice(s--,1):(l=!1,r<i&&(i=r));if(l){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,o,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>"./js/"+e+".chunk-"+{79:"5ed4703606240c39d93c",214:"559e2ad342b53b8db123"}[e]+".js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},n="imgreview:",a.l=(e,o,r,i)=>{if(t[e])t[e].push(o);else{var l,s;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==n+r){l=u;break}}l||(s=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",n+r),l.src=e),t[e]=[o];var p=(n,o)=>{l.onerror=l.onload=null,clearTimeout(A);var r=t[e];if(delete t[e],l.parentNode&&l.parentNode.removeChild(l),r&&r.forEach((e=>e(o))),n)return n(o)},A=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),s&&document.head.appendChild(l)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="/",(()=>{var e={179:0};a.f.j=(t,n)=>{var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(((n,r)=>o=e[t]=[n,r]));n.push(o[2]=r);var i=a.p+a.u(t),l=new Error;a.l(i,(n=>{if(a.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,o[1](l)}}),"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,[i,l,s]=n,c=0;if(i.some((t=>0!==e[t]))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(s)var d=s(a)}for(t&&t(n);c<i.length;c++)r=i[c],a.o(e,r)&&e[r]&&e[r][0](),e[i[c]]=0;return a.O(d)},n=self.webpackChunkimgreview=self.webpackChunkimgreview||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=a.O(void 0,[6],(()=>a(1119)));i=a.O(i)})();