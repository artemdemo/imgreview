(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5053:function(){throw new Error("Module build failed: Error: Final loader (./node_modules/next/dist/build/webpack/loaders/error-loader.js) didn't return a Buffer or String\n    at processResult (/Users/artemdem/Deus/imgreview/node_modules/next/dist/compiled/webpack/bundle5.js:48975:17)\n    at /Users/artemdem/Deus/imgreview/node_modules/next/dist/compiled/webpack/bundle5.js:49061:5\n    at /Users/artemdem/Deus/imgreview/node_modules/next/dist/compiled/webpack/bundle5.js:134998:3\n    at iterateNormalLoaders (/Users/artemdem/Deus/imgreview/node_modules/next/dist/compiled/webpack/bundle5.js:134824:10)\n    at iterateNormalLoaders (/Users/artemdem/Deus/imgreview/node_modules/next/dist/compiled/webpack/bundle5.js:134831:10)\n    at /Users/artemdem/Deus/imgreview/node_modules/next/dist/compiled/webpack/bundle5.js:134846:3\n    at runSyncOrAsync (/Users/artemdem/Deus/imgreview/node_modules/next/dist/compiled/webpack/bundle5.js:134729:12)\n    at iterateNormalLoaders (/Users/artemdem/Deus/imgreview/node_modules/next/dist/compiled/webpack/bundle5.js:134842:2)\n    at /Users/artemdem/Deus/imgreview/node_modules/next/dist/compiled/webpack/bundle5.js:134815:4\n    at /Users/artemdem/Deus/imgreview/node_modules/next/dist/compiled/webpack/bundle5.js:49035:15")},5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5693)}])},5823:function(){throw new Error("Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-image-loader.js):\nError: `unwrap_throw` failed\n    at imports.wbg.__wbindgen_throw (/Users/artemdem/Deus/imgreview/node_modules/next/dist/server/lib/squoosh/png/squoosh_png.js:127:15)\n    at <anonymous>:wasm-function[169]:0x165df\n    at encode (<anonymous>:wasm-function[9]:0xbe03)\n    at Object.encode (/Users/artemdem/Deus/imgreview/node_modules/next/dist/server/lib/squoosh/png/squoosh_png.js:67:14)\n    at Object.encode (/Users/artemdem/Deus/imgreview/node_modules/next/dist/server/lib/squoosh/codecs.js:283:49)\n    at Object.encodePng (/Users/artemdem/Deus/imgreview/node_modules/next/dist/server/lib/squoosh/impl.js:118:23)")},5693:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ze}});var o,r=t(5893),i=t(7294),a=t(6486),c=t.n(a),s=(t(5053),function(){var e=(0,i.useState)("x.xx"),n=e[0],t=e[1];return(0,i.useEffect)((function(){var e=document.querySelector('[name="app-version"]');e&&t(e.getAttribute("content")||"")}),[]),(0,r.jsx)("div",{className:"AppVersion",children:n})}),l=t(4051),u=t.n(l),d=t(27),p=t(484),f=t(5968),h=function(e){var n=e.open,t=(0,i.useContext)(f.z).state.canvas.canvasApi,o=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e;n&&(null===(e=o.current)||void 0===e||e.click())}),[n]),(0,r.jsx)("input",{type:"file",onChange:function(){var e=c().get(o,"current.files[0]",null);e&&(0,p.Z)(e).then((function(e){null===t||void 0===t||t.setImage({image:e.image,name:e.name}),o.current&&(o.current.value="")}))},ref:o,style:{display:"none"}})},m=t(5823),v=t.n(m),b=function(e){var n=e.properties,t=e.children,o=(0,i.useRef)();return(0,i.useEffect)((function(){return Object.keys(n).forEach((function(e){var t;null===(t=o.current)||void 0===t||t.style.setProperty(e,String(n[e]))})),function(){Object.keys(n).forEach((function(e){var n;null===(n=o.current)||void 0===n||n.style.removeProperty(e)}))}}),[n]),(0,r.jsx)(r.Fragment,{children:i.Children.map(i.Children.only(t),(function(e){if(i.isValidElement(e))return i.cloneElement(e,{ref:function(e){return o.current=e}});throw new Error("Given child is not valid React element")}))})};t(3908);!function(e){e[e.load=0]="load",e[e.save=1]="save",e[e.copy=2]="copy",e[e.arrow=3]="arrow",e[e.text=4]="text",e[e.rectangle=5]="rectangle",e[e.circle=6]="circle",e[e.rectSelect=7]="rectSelect",e[e.resize=8]="resize",e[e.strokeWidth=9]="strokeWidth",e[e.fontSize=10]="fontSize",e[e.check=11]="check",e[e.zoom=12]="zoom",e[e.info=13]="info",e[e.undo=14]="undo",e[e.redo=15]="redo",e[e.sendToBack=16]="sendToBack",e[e.bringToFront=17]="bringToFront",e[e.chevronDown=18]="chevronDown"}(o||(o={}));var g=function(e){var n=e.icon,t=(0,i.useRef)(null),a=Object.keys(o).length/2;return(0,r.jsx)(b,{properties:(0,i.useMemo)((function(){return{"--img-icon-width":"".concat(n===o.chevronDown?10:20,"px"),"--img-icon-height":"".concat(20,"px"),"--img-icon-collection-width":"".concat(20*a,"px")}}),[n]),children:(0,r.jsx)("span",{className:"ImgIconWrapper",ref:t,children:(0,r.jsx)("span",{className:"ImgIcon",style:(0,i.useMemo)((function(){return{backgroundImage:"url('".concat(v(),"')"),left:n===o.chevronDown?-1*Number(n)*20-7:-1*Number(n)*20}}),[n])})})})},y=(t(760),function(e){var n=e.data,t=void 0===n?[]:n;return(0,r.jsx)("div",{className:"SubMenu",children:t.map((function(e){return(0,r.jsxs)("div",{className:"SubMenuItem",onClick:function(n){e.onClick(e,n)},children:[(0,r.jsx)("div",{className:"SubMenuItem__Content",children:e.text}),e.selected?(0,r.jsx)("div",{className:"SubMenuItem__Icon",children:(0,r.jsx)(g,{icon:o.check})}):null]},"submenu-item-".concat(e.text))}))})}),k=(t(8459),t(4184)),w=t.n(k),x=t(8897),j=function(e){var n=e.disabled,t=void 0!==n&&n,o=e.active,i=void 0!==o&&o,a=e.onClick,c=e.className,s=e.title,l=e.posRelative,u=e.link,d=(void 0===u?{}:u).href,p=void 0===d?"":d,f=w()(c,"MenuButton",{MenuButton_active:i,MenuButton_posRelative:l,MenuButton_disabled:t});return 0===p.length?(0,r.jsx)("button",{className:f,onClick:a,title:s,disabled:t,type:"button",children:e.children}):p.startsWith("http")?(0,r.jsx)("a",{className:f,onClick:a,title:s,href:p,children:e.children}):(0,r.jsx)(x.rU,{className:f,onClick:a,title:s,to:p,children:e.children})},S=(t(4089),t(1068)),C=function(e){var n=e.subMenu,t=e.disabled,a=e.active,s=e.link,l=e.title,u=void 0===l?"":l,d=e.onClick,p=void 0===d?c().noop:d,h=e.stopPropagation,m=void 0===h||h,v=e.children,b=(0,i.useContext)(f.z),k=b.state,x=k.menu,C=k.canvas.canvasApi,A=b.dispatch;(0,i.useEffect)((function(){var e=function(){A((0,S.uC)(""))},n=c().noop,t=c().noop;return C&&(n=C.onShapeBlurred(e),t=C.onShapeClicked(e)),function(){n(),t()}}),[]);var O=function(){return n&&n.items.length>0},E=function(e){m&&e.stopPropagation(),O()&&A((0,S.uC)(""===x.openSubmenu?n.token:"")),p(e)};if(1===i.Children.count(v)){var P,_=i.Children.toArray(v)[0];if(null===_||void 0===_||null===(P=_.type)||void 0===P?void 0:P.displayName)return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"TopMenuItem",onClick:function(e){e.stopPropagation()},children:(0,r.jsx)("span",{className:"TopMenuItem__Content",children:v})}),(0,r.jsx)(j,{disabled:t,active:a,onClick:E,link:s,title:u,posRelative:O(),children:O()?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{icon:o.chevronDown}),(0,r.jsx)("div",{className:w()({TopMenuItem__Submenu:!0,TopMenuItem__Submenu_open:x.openSubmenu===(null===n||void 0===n?void 0:n.token)}),children:(0,r.jsx)(y,{data:n.items})})]}):null})]})}return(0,r.jsxs)(j,{disabled:t,active:a,onClick:E,link:s,title:u,posRelative:O(),children:[(0,r.jsx)("span",{className:"TopMenuItem__Content",children:v}),O()?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"TopMenuItem__Caret",children:(0,r.jsx)(g,{icon:o.chevronDown})}),(0,r.jsx)("div",{className:w()({TopMenuItem__Submenu:!0,TopMenuItem__Submenu_open:x.openSubmenu===(null===n||void 0===n?void 0:n.token)}),children:(0,r.jsx)(y,{data:n.items})})]}):null]})},A=t(3425),O=function(e){var n=e.disabled,t=void 0!==n&&n,a=(0,i.useState)(!1),c=a[0],s=a[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C,{onClick:function(){s(!0),setTimeout((function(){s(!1)}),100),d.qP({eventCategory:d.Ak.MenuClick,eventAction:d.UZ.OpenImage})},disabled:t,title:(0,A.t)("menu.openImage"),stopPropagation:!1,children:(0,r.jsx)(g,{icon:o.load})}),(0,r.jsx)(h,{open:c})]})},E=(t(894),function(e){var n=e.children,t=e.errorText;return(0,r.jsxs)("div",{className:"FormGroup",children:[n,""!==t?(0,r.jsx)("div",{className:"FormGroup__Error",children:t}):null]})});t(1082);function P(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var _,T=(0,i.forwardRef)((function(e,n){return(0,r.jsx)("input",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),o.forEach((function(n){P(e,n,t[n])}))}return e}({},e,{ref:n,className:"form-input"}))})),M=(t(18),function(e){return(0,r.jsx)("div",{className:"popup-buttons-container",children:e.children})}),R=(t(751),function(e){return(0,r.jsx)(r.Fragment,{children:i.Children.map(e.children,(function(e){return(0,r.jsx)("div",{className:"FormButtonsRow",children:e})}))})});t(7313);function I(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function N(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}!function(e){e[e.PRIMARY=0]="PRIMARY",e[e.SECONDARY=1]="SECONDARY"}(_||(_={}));var U=function(e){var n=e.appearance,t=e.children,o=e.block,i=void 0!==o&&o,a=e.disabled,c=e.type,s=void 0===c?"button":c,l=N(e,["appearance","children","block","disabled","type"]);return(0,r.jsx)("button",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),o.forEach((function(n){I(e,n,t[n])}))}return e}({className:w()({Button:!0,Button_primary:n===_.PRIMARY||!n,Button_secondary:n===_.SECONDARY,Button_block:i,Button_disabled:a}),disabled:a,type:s},l,{children:t}))},z=t(3935),F=t(444);t(2803);function B(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var D=function(e){var n=e.base,t=e.onClose,o=e.show,a=e.onOpen,s=e.hideClickOutside,l=e.children,u=e.baseClass,d=e.className,p=(0,i.useRef)(null),f=(0,i.useRef)(null),h=(0,i.useState)(!1),m=h[0],v=h[1],b=(0,i.useState)(!1),g=b[0],y=b[1],k=(0,i.useState)(!1),x=k[0],j=k[1],S=(0,i.useState)(!1),C=S[0],A=S[1];(0,i.useEffect)((function(){return n&&(p.current&&n.removeChild(p.current),p.current=document.createElement("div"),n.appendChild(p.current)),A(!0),function(){n&&p.current&&n.removeChild(p.current)}}),[]),(0,i.useEffect)((function(){C&&(o?(v(!0),setTimeout((function(){y(!0)}))):j(!0))}),[o]);var O,E=function(){!m&&g&&t&&t()};if(!c().isString(u)||u.replace(/\s+/," ").split(" ").length>1)throw new Error("baseClass may contain one class at most");var P=w()(u,d,(B(O={},"".concat(u,"_entering"),m),B(O,"".concat(u,"_open"),g),B(O,"".concat(u,"_leaving"),x),O)),_=(0,r.jsx)("div",{className:P,onTransitionEnd:function(e){e.target===f.current&&(m&&v(!1),x&&(y(!1),j(!1)),g&&a&&a())},ref:f,children:s?(0,r.jsx)(F.Z,{onClickOutside:E,children:l}):l});return n&&p.current?(0,z.createPortal)(_,p.current):_};function W(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),o.forEach((function(n){W(e,n,t[n])}))}return e}var L=function(e){var n=e.buttons;if(n&&n.length>0)return(0,r.jsx)(M,{children:(0,r.jsx)(R,{children:n.map((function(e,n){return(0,i.createElement)(U,Z({},e,{key:"popup-button-".concat(n),type:"button",children:e.text}))}))})});var t=n;return(0,r.jsx)(M,{children:(0,r.jsx)(U,Z({},t,{type:"button",children:t.text}))})};t(5662),t(996),t(9168);function q(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Y=(0,i.forwardRef)((function(e,n){return(0,r.jsx)("button",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),o.forEach((function(n){q(e,n,t[n])}))}return e}({},e,{ref:n,className:w()(Y,e.className)}))})),G=function(e){var n=e.title,t=e.showCloseBtn,o=e.onClose;return(0,r.jsxs)("div",{className:"popup-title",children:[(0,r.jsx)("div",{className:"popup-title-section",children:n.length>0?(0,r.jsx)("div",{className:"popup-title-text",children:n}):(0,r.jsx)("span",{children:"\xa0"})}),(0,r.jsx)("div",{className:"popup-title-section",children:t?(0,r.jsx)(Y,{onClick:o,type:"button",className:"popup-title-close",children:"\xd7"}):(0,r.jsx)("span",{children:"\xa0"})})]})},H=function(e){var n=e.onClose,t=e.onOpen,o=e.contentIcon,i=e.base,a=e.className,c=e.buttons,s=e.hideClickOutside,l=e.title,u=e.show,d=e.children;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D,{baseClass:"popup-bg",show:u,hideClickOutside:!1,base:i,children:(0,r.jsx)("div",{})}),(0,r.jsx)(D,{className:a,baseClass:"popup",show:u,hideClickOutside:s,onClose:n,onOpen:t,base:i,children:(0,r.jsxs)("div",{children:[!!l&&(0,r.jsx)(G,{title:l,onClose:n,showCloseBtn:!0}),(0,r.jsxs)("div",{className:"popup-body",children:[o?(0,r.jsxs)("div",{className:"popup-content",children:[(0,r.jsx)("div",{className:"popup-content__icon",children:o}),(0,r.jsx)("div",{className:"popup-content__text",children:d})]}):d,!!c&&(0,r.jsx)(L,{buttons:c})]})]})})]})},V=function(e){var n=e.onCancel,t=e.onSubmit,o=e.nameInit,a=void 0===o?"":o,c=e.show,s=(0,i.useState)(""),l=s[0],u=s[1],d=(0,i.useState)(!1),p=d[0],f=d[1],h=(0,i.useState)(""),m=h[0],v=h[1],b=(0,i.useRef)(null);(0,i.useEffect)((function(){c&&(u(a),f(!1),setTimeout((function(){var e;null===(e=b.current)||void 0===e||e.focus()})))}),[c]),(0,i.useEffect)((function(){""===l.replace(/\s/g,"")&&p?v("Name can't be empty"):v("")}),[l]);return(0,r.jsx)(H,{showCloseBtn:!1,onClose:function(){u(""),v(""),n()},show:c,base:document.body,children:(0,r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(l)},children:[(0,r.jsxs)(E,{errorText:m,children:[(0,r.jsx)("label",{htmlFor:"saveAs",children:"Save as (*.png)"}),(0,r.jsx)(T,{placeholder:"Enter file name",id:"saveAs",value:l,ref:b,onChange:function(e){u(e.target.value),f(!0)}})]}),(0,r.jsx)(M,{children:(0,r.jsxs)(R,{children:[(0,r.jsx)(U,{onClick:n,appearance:_.SECONDARY,children:"Cancel"}),(0,r.jsx)(U,{type:"submit",disabled:""!==m,children:"Save"})]})})]})})},X=function(e){var n=e.disabled,t=void 0!==n&&n,a=(0,i.useState)(!1),c=a[0],s=a[1],l=(0,i.useContext)(f.z).state.canvas.canvasApi;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C,{onClick:function(){s(!0),d.qP({eventCategory:d.Ak.MenuClick,eventAction:d.UZ.SaveImage})},title:(0,A.t)("menu.save"),disabled:t,stopPropagation:!1,children:(0,r.jsx)(g,{icon:o.save})}),(0,r.jsx)(V,{onSubmit:function(e){""!==e&&(null===l||void 0===l||l.exportCanvasToImage(e.trim()),s(!1))},onCancel:function(){s(!1)},show:c})]})},Q=t(3489),K=function(e){var n=e.disabled,t=void 0!==n&&n,a=(0,i.useContext)(f.z),c=a.state.canvas.canvasApi,s=a.dispatch;return(0,r.jsx)(C,{onClick:function(){requestAnimationFrame((function(){null===c||void 0===c||c.copyAllToClipboard(),s((0,Q.c)({message:(0,A.t)("all-copied")}))})),d.qP({eventCategory:d.Ak.MenuClick,eventAction:d.UZ.CopyAll})},disabled:t,stopPropagation:!1,title:(0,A.t)("menu.copyAll"),children:(0,r.jsx)(g,{icon:o.copy})})},$=t(3710),J=function(e){var n=e.disabled,t=void 0!==n&&n,a=(0,i.useContext)(f.z),c=a.state,s=c.menu,l=c.canvas.canvasApi,u=a.dispatch;return(0,r.jsx)(C,{onClick:function(){null===l||void 0===l||l.startAddingShape({type:$.P.ARROW,options:{strokeColor:s.strokeColor,strokeWidth:s.strokeWidth}}),u((0,S.rE)($.P.ARROW)),d.qP({eventCategory:d.Ak.MenuClick,eventAction:d.UZ.AddArrow})},disabled:t,active:s.selectedShapeToAdd===$.P.ARROW,title:(0,A.t)("menu.addArrow"),children:(0,r.jsx)(g,{icon:o.arrow})})},ee=function(e){var n=e.disabled,t=(0,i.useContext)(f.z),a=t.state,c=a.menu,s=a.canvas.canvasApi,l=t.dispatch;return(0,r.jsx)(C,{onClick:function(){null===s||void 0===s||s.startAddingShape({type:$.P.TEXT,options:{fillColor:c.strokeColor,fontSize:c.fontSize}}),l((0,S.rE)($.P.TEXT)),d.qP({eventCategory:d.Ak.MenuClick,eventAction:d.UZ.AddText})},disabled:n,active:c.selectedShapeToAdd===$.P.TEXT,title:(0,A.t)("menu.addText"),children:(0,r.jsx)(g,{icon:o.text})})},ne=function(e){var n=e.disabled,t=void 0!==n&&n,a=(0,i.useContext)(f.z),c=a.state,s=c.menu,l=c.canvas.canvasApi,u=a.dispatch;return(0,r.jsx)(C,{onClick:function(){null===l||void 0===l||l.startAddingShape({type:$.P.RECT,options:{strokeColor:s.strokeColor,strokeWidth:s.strokeWidth}}),u((0,S.rE)($.P.RECT)),d.qP({eventCategory:d.Ak.MenuClick,eventAction:d.UZ.AddRect})},disabled:t,active:s.selectedShapeToAdd===$.P.RECT,title:(0,A.t)("menu.addRect"),children:(0,r.jsx)(g,{icon:o.rectangle})})},te=function(e){var n=e.disabled,t=void 0!==n&&n,a=(0,i.useContext)(f.z),c=a.state,s=c.menu,l=c.canvas.canvasApi,u=a.dispatch;return(0,r.jsx)(C,{onClick:function(){null===l||void 0===l||l.startAddingShape({type:$.P.ELLIPSE,options:{strokeColor:s.strokeColor,strokeWidth:s.strokeWidth}}),u((0,S.rE)($.P.ELLIPSE)),d.qP({eventCategory:d.Ak.MenuClick,eventAction:d.UZ.AddEllipse})},disabled:t,active:s.selectedShapeToAdd===$.P.ELLIPSE,title:(0,A.t)("menu.addEllipse"),children:(0,r.jsx)(g,{icon:o.circle})})},oe=function(e){var n=e.disabled,t=void 0!==n&&n,o=e.reverse,a=void 0!==o&&o,c=(0,i.useContext)(f.z).state.canvas.canvasApi,s=a?(0,A.t)("menu.unsketchify"):(0,A.t)("menu.sketchify");return(0,r.jsx)(C,{onClick:function(){null===c||void 0===c||c.sketchifyActiveShape(),d.qP({eventCategory:d.Ak.MenuClick,eventAction:d.UZ.Sketchify})},title:s,disabled:t,children:s})},re=function(e){var n=e.children,t=e.fallback,o=void 0===t?"Loading...":t;return(0,r.jsx)(i.Suspense,{fallback:o,children:n})},ie=(t(3488),t(8176)),ae=i.lazy((function(){return Promise.all([t.e(125),t.e(178)]).then(t.bind(t,5645))})),ce=function(e){var n=e.disabled,t=void 0!==n&&n,o=(0,i.useContext)(f.z),a=o.state,s=a.menu,l=a.canvas.canvasApi,u=o.dispatch;return(0,i.useEffect)((function(){var e=function(e){var n=function(e){if(c().isFunction(e.getStrokeColor))return e.getStrokeColor();if(c().isFunction(e.getFillColor))return e.getFillColor();if(e.type!==ie.Z.IMAGE)throw new Error("Can't get shape color")}(e);n&&u((0,S.VY)(n))},n=c().noop,t=c().noop;return l&&(n=l.onShapeClicked(e),t=l.onShapeDragStarted(e)),function(){n(),t()}}),[l]),(0,r.jsxs)(C,{onClick:function(){u((0,S.Mk)())},disabled:t,children:[(0,r.jsx)("div",{className:"MIStrokeColor__Current",style:{backgroundColor:s.strokeColor}}),(0,r.jsx)(re,{fallback:null,children:(0,r.jsx)(ae,{onChange:function(e){u((0,S.VY)(e)),null===l||void 0===l||l.setStrokeColorToActiveShape(e),d.qP({eventCategory:d.Ak.MenuClick,eventAction:d.UZ.ChangeColor,doNotRepeat:!0})}})})]})},se=(t(7236),"STROKE_WIDTH"),le=function(e){var n=e.disabled,t=void 0!==n&&n,a=(0,i.useContext)(f.z),s=a.state,l=s.menu,u=s.canvas.canvasApi,p=a.dispatch;(0,i.useEffect)((function(){var e=function(e){c().isFunction(e.getStrokeWidth)&&p((0,S.lz)(e.getStrokeWidth()))},n=c().noop,t=c().noop;return u&&(n=u.onShapeClicked(e),t=u.onShapeDragStarted(e)),function(){n(),t()}}),[u]);var h=function(e){p((0,S.lz)(e.value)),null===u||void 0===u||u.setStrokeWidthToActiveShape(e.value),d.qP({eventCategory:d.Ak.MenuClick,eventAction:d.UZ.ChangeStrokeWidth})};return(0,r.jsx)(F.Z,{onClickOutside:function(){l.openSubmenu===se&&requestAnimationFrame((function(){p((0,S.uC)(""))}))},children:(0,r.jsxs)(C,{subMenu:{items:[2,3,5,6,7,8,10].map((function(e){return{text:"".concat(e,"px"),value:e,selected:l.strokeWidth===e,onClick:h}})),token:se},disabled:t,children:[(0,r.jsxs)("span",{className:"MIStrokeWidth__Content",children:[l.strokeWidth,"px"]}),(0,r.jsx)(g,{icon:o.strokeWidth})]})})},ue=(t(9689),function(e){var n=e.disabled,t=e.onSubmit,o=e.displayValue,a=e.suffix,c=(0,i.useState)(!1),s=c[0],l=c[1],u=(0,i.useState)(""),d=u[0],p=u[1],f=(0,i.useRef)(null);(0,i.useEffect)((function(){s&&requestAnimationFrame((function(){var e;null===(e=f.current)||void 0===e||e.focus(),p(o)}))}),[s]);return(0,r.jsxs)(r.Fragment,{children:[!s&&(0,r.jsx)("span",{className:"MenuInput",onClick:function(e){e.stopPropagation(),l(!0)},children:o}),s&&(0,r.jsx)("form",{className:"MenuInputForm",onSubmit:function(e){e.preventDefault(),e.stopPropagation(),t(d),l(!1)},children:(0,r.jsx)("input",{className:"MenuInput",disabled:n,value:d,onChange:function(e){e.stopPropagation(),p(e.target.value)},ref:f})}),a?" ".concat(a):""]})});ue.displayName="MenuInput";var de="FONT_SIZE",pe=function(e){var n=e.disabled,t=(0,i.useContext)(f.z),o=t.state,a=o.menu,c=o.canvas.canvasApi,s=t.dispatch,l=function(e){var n=parseInt(e,10),t=Number.isNaN(n)?a.fontSize:Math.min(200,Math.max(10,n));s((0,S.oL)(t)),null===c||void 0===c||c.setFontSizeToActiveShape(t),d.qP({eventCategory:d.Ak.MenuClick,eventAction:d.UZ.ChangeFontSize}),s((0,S.uC)(""))};return(0,r.jsx)(F.Z,{onClickOutside:function(){a.openSubmenu===de&&requestAnimationFrame((function(){s((0,S.uC)(""))}))},children:(0,r.jsx)(C,{subMenu:{items:[16,18,20,25,30,40,55,80].map((function(e){return{text:"".concat(e,"px"),value:e,selected:a.fontSize===e,onClick:function(e){l(e.value)}}})),token:de},disabled:n,children:(0,r.jsx)(ue,{displayValue:String(a.fontSize),onSubmit:l,suffix:"px"})})})},fe=function(){return(0,r.jsx)(C,{link:{href:"https://github.com/artemdemo/imgreview"},onClick:function(){d.qP({eventCategory:d.Ak.MenuClick,eventAction:d.UZ.GithubPage})},children:"Github"})},he=function(e){var n=(0,i.useContext)(f.z).state.canvas.canvasApi;return(0,r.jsx)(C,{onClick:function(){null===n||void 0===n||n.initBlankCanvas({width:800,height:500})},stopPropagation:!1,children:(0,A.t)("menu.blank")})},me=function(){return(0,r.jsx)(C,{link:{href:"/about"},onClick:function(){d.qP({eventCategory:d.Ak.MenuClick,eventAction:d.UZ.AboutPage})},children:(0,A.t)("menu.about")})},ve=t(6885),be=(t(2664),function(e){var n=e.show,t=void 0===n||n;return(0,r.jsx)("span",{className:w()({SeparatorWrapper:!0,SeparatorWrapper_hide:!t}),children:(0,r.jsx)("span",{className:"Separator"})})}),ge=function(e){var n=e.children;return i.Children.toArray(n).length>0?(0,r.jsxs)(r.Fragment,{children:[n,(0,r.jsx)(be,{})]}):null};function ye(e,n,t,o,r,i,a){try{var c=e[i](a),s=c.value}catch(l){return void t(l)}c.done?n(s):Promise.resolve(s).then(o,r)}var ke=function(e){var n=e.onShapesAmountChanged,t=e.onShapeFocus,o=(0,i.useContext)(f.z).state.canvas.canvasApi;return(0,i.useEffect)((function(){var e=c().noop,r=c().noop,i=c().noop,a=c().noop,s=c().noop;return o&&(e=o.onShapeBlurred(t),r=o.onShapeClicked((function(e){requestAnimationFrame((function(){return t(e)}))})),i=o.onShapeDragStarted((function(e){requestAnimationFrame((function(){return t(e)}))})),a=o.onShapeAdded(function(){var e,o=(e=u().mark((function e(o){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=o.addedShape,t(r),n();case 3:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(o,r){var i=e.apply(n,t);function a(e){ye(i,o,r,a,c,"next",e)}function c(e){ye(i,o,r,a,c,"throw",e)}a(void 0)}))});return function(e){return o.apply(this,arguments)}}()),s=o.onShapeDeleted(n),n()),function(){e(),r(),i(),a(),s()}}),[o]),null},we=function(e){var n=e.disabled,t=void 0!==n&&n,a=(0,i.useContext)(f.z).state.canvas.canvasApi;return(0,r.jsx)(C,{onClick:function(){null===a||void 0===a||a.changeOrderOfActiveShape($.Q.BringToFront),d.qP({eventCategory:d.Ak.MenuClick,eventAction:d.UZ.BringFront})},disabled:t,title:(0,A.t)("menu.bringFront"),children:(0,r.jsx)(g,{icon:o.bringToFront})})},xe=function(e){var n=e.disabled,t=void 0!==n&&n,a=(0,i.useContext)(f.z).state.canvas.canvasApi;return(0,r.jsx)(C,{onClick:function(){null===a||void 0===a||a.changeOrderOfActiveShape($.Q.SendToBack),d.qP({eventCategory:d.Ak.MenuClick,eventAction:d.UZ.SendBack})},disabled:t,title:(0,A.t)("menu.sendBack"),children:(0,r.jsx)(g,{icon:o.sendToBack})})};t(2995);function je(e,n,t,o,r,i,a){try{var c=e[i](a),s=c.value}catch(l){return void t(l)}c.done?n(s):Promise.resolve(s).then(o,r)}function Se(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Ce(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),o.forEach((function(n){Se(e,n,t[n])}))}return e}var Ae={showStrokeColor:!1,showStrokeWidth:!1,showCrop:!1,showFontSize:!1,showSketchify:!1,showOrderButtons:!1,clickedShapeType:void 0},Oe=function(){var e=(0,i.useRef)(null),n=(0,i.useState)(Ce({},Ae)),t=n[0],o=n[1],a=(0,i.useState)(!1),c=a[0],s=a[1],l=(0,i.useContext)(f.z),d=l.state.canvas.canvasApi,p=l.dispatch;(0,i.useEffect)((function(){var n=(e.current||{}).offsetHeight;n&&p((0,S.Nv)(n))}),[]);var h;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ke,{onShapesAmountChanged:(h=u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=5;break}return e.next=3,d.getShapesAmount();case 3:n=e.sent,s(n>0);case 5:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,o){var r=h.apply(e,n);function i(e){je(r,t,o,i,a,"next",e)}function a(e){je(r,t,o,i,a,"throw",e)}i(void 0)}))}),onShapeFocus:function(e){p((0,S.rE)()),p((0,S.Qc)());var n=Ce({},Ae,{showOrderButtons:!1,clickedShapeType:null===e||void 0===e?void 0:e.type});switch(null===e||void 0===e?void 0:e.type){case $.P.ARROW:case $.P.RECT_ROUGH:case $.P.ELLIPSE_ROUGH:n.showStrokeColor=!0,n.showStrokeWidth=!0;break;case $.P.RECT:case $.P.ELLIPSE:n.showStrokeColor=!0,n.showStrokeWidth=!0,n.showSketchify=!0;break;case $.P.TEXT:n.showStrokeColor=!0,n.showFontSize=!0;break;case $.P.SELECT_RECT:n.showCrop=!0}e&&(n.showOrderButtons=!0),o(n)}}),(0,r.jsx)(b,{properties:(0,i.useMemo)((function(){return{"--main-menu-color":"#D3D3D3","--main-menu-zindex":10,"--main-menu-item-border-color":"#c1c1c1"}}),[]),children:(0,r.jsxs)("div",{className:"Menu",onClick:function(){null===d||void 0===d||d.blurShapes()},ref:e,children:[(0,r.jsxs)(ge,{children:[(0,r.jsx)(O,{}),(0,r.jsx)(X,{disabled:!c}),(0,r.jsx)(K,{disabled:!c})]}),(0,r.jsxs)(ge,{children:[(0,r.jsx)(J,{}),(0,r.jsx)(ee,{}),(0,r.jsx)(ne,{}),(0,r.jsx)(te,{})]}),(0,r.jsxs)(ge,{children:[t.showStrokeColor&&(0,r.jsx)(ce,{}),t.showStrokeWidth&&(0,r.jsx)(le,{}),t.showFontSize&&(0,r.jsx)(pe,{}),t.showSketchify&&(0,r.jsx)(oe,{reverse:t.clickedShapeType===$.P.RECT_ROUGH||t.clickedShapeType===$.P.ELLIPSE_ROUGH})]}),t.showOrderButtons&&(0,r.jsxs)(ge,{children:[(0,r.jsx)(we,{}),(0,r.jsx)(xe,{})]}),ve.r&&(0,r.jsx)(he,{}),(0,r.jsxs)("div",{className:"Menu__RightGroup",children:[(0,r.jsx)(me,{}),(0,r.jsx)(fe,{})]})]})})]})},Ee=t(6808),Pe=t.n(Ee),_e=(t(6810),function(){var e=navigator.userAgent||navigator.vendor||(null===window||void 0===window?void 0:window.opera);return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.slice(0,4))}()),Te="mobileWarningShown",Me="true",Re=function(){var e=(0,i.useState)(!1),n=e[0],t=e[1];return(0,i.useEffect)((function(){_e&&Pe().get(Te)!==Me&&(t(!0),d.qP({eventCategory:d.Ak.GlobalInteraction,eventAction:d.UZ.ShownMobileWarning}))}),[]),n?(0,r.jsx)("div",{className:"MobileWarning",children:(0,r.jsxs)("div",{className:"MobileWarning__Msg",children:[(0,r.jsx)("p",{children:"ImgReview currently does not support mobile devices."}),(0,r.jsx)(U,{appearance:_.PRIMARY,onClick:function(){t(!1),Pe().set(Te,Me,{expires:30})},block:!0,children:"Got it"})]})}):null},Ie=(t(3759),i.lazy((function(){return t.e(623).then(t.bind(t,5169))}))),Ne=i.lazy((function(){return Promise.all([t.e(446),t.e(79)]).then(t.bind(t,5711))})),Ue=function(){var e=(0,i.useContext)(f.z).state,n=e.menu,t=e.canvas.canvasApi;return(0,i.useEffect)((function(){var e=function(e){var n="HTML"===c().get(e.target,"tagName"),o=e.target&&"app"===e.target.getAttribute("id");(n||o)&&(null===t||void 0===t||t.blurShapes())};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[t]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s,{}),(0,r.jsx)(Oe,{}),(0,r.jsx)(re,{fallback:(0,r.jsx)("div",{style:{position:"absolute",top:n.menuHeight},children:"Loading..."}),children:(0,r.jsx)(Ne,{})}),(0,r.jsx)(re,{children:(0,r.jsx)(Ie,{})}),(0,r.jsx)(Re,{})]})},ze=function(){return(0,r.jsx)(Ue,{})}},444:function(e,n,t){"use strict";var o=t(7294),r=t(5530),i=t.n(r);function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,n){return!n||"object"!==d(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function u(e,n){return(u=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var d=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function p(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=s(e);if(n){var r=s(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return l(this,t)}}var f=function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&u(e,n)}(i,e);var n,t,o,r=p(i);function i(){var e;return a(this,i),(e=r.apply(this,arguments)).handleClickOutside=function(){(0,e.props.onClickOutside)()},e}return n=i,(t=[{key:"render",value:function(){return this.props.children}}])&&c(n.prototype,t),o&&c(n,o),i}(o.PureComponent);n.Z=i()(f)},5968:function(e,n,t){"use strict";t.d(n,{z:function(){return x}});t(5893);var o=t(7294),r=t(6486),i=t.n(r);var a=t(3489),c=t(4440);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),o.forEach((function(n){l(e,n,t[n])}))}return e}function d(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p={list:[]},f=t(1068);function h(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),o.forEach((function(n){h(e,n,t[n])}))}return e}var v={strokeColor:"#ee2e21",selectedShapeStrokeColor:null,strokeWidth:3,fontSize:18,showColorPicker:!1,menuHeight:0,openSubmenu:"",selectedShapeToAdd:null},b=t(4753);function g(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),o.forEach((function(n){g(e,n,t[n])}))}return e}var k={canvasApi:null},w={notifications:p,menu:v,canvas:k},x=(function(e){var n=Object.keys(e),t={},o=!0,r=!1,a=void 0;try{for(var c,s=n[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var l=c.value;if(i().isUndefined(e[l]))throw new Error('No reducer provided for key "'.concat(l,'"'));i().isFunction(e[l])&&(t[l]=e[l])}}catch(d){r=!0,a=d}finally{try{o||null==s.return||s.return()}finally{if(r)throw a}}var u=Object.keys(t)}({notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"".concat(a.c):var t=n.payload;return u({},e,{list:d(e.list).concat([new c.P(t)])});case"".concat(a.F):var o=n.payload;return u({},e,{list:e.list.filter((function(e){return e!==o}))});default:return e}},menu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"".concat(f.Mk):return m({},e,{showColorPicker:!0});case"".concat(f.Nv):return m({},e,{menuHeight:n.payload});case"".concat(f.Qc):return m({},e,{showColorPicker:!1});case"".concat(f.lz):return m({},e,{strokeWidth:n.payload});case"".concat(f.VY):return m({},e,{strokeColor:n.payload});case"".concat(f.oL):return m({},e,{fontSize:n.payload});case"".concat(f.uC):return m({},e,{openSubmenu:n.payload});case"".concat(f.rE):return m({},e,{selectedShapeToAdd:n.payload||null});default:return e}},canvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"".concat(b.T):return y({},e,{canvasApi:n.payload});default:return e}}}),(0,o.createContext)({state:w,dispatch:i().noop}))},4753:function(e,n,t){"use strict";t.d(n,{T:function(){return o}});var o=(0,t(8231).Z)("SET_CANVAS_API")},1068:function(e,n,t){"use strict";t.d(n,{Mk:function(){return r},Nv:function(){return i},uC:function(){return a},Qc:function(){return c},lz:function(){return s},VY:function(){return l},oL:function(){return u},rE:function(){return d}});var o=t(8231),r=(0,o.Z)("SHOW_COLOR_PICKER"),i=(0,o.Z)("SET_MENU_HEIGHT"),a=(0,o.Z)("TOGGLE_SUBMENU"),c=(0,o.Z)("HIDE_COLOR_PICKER"),s=(0,o.Z)("SET_STROKE_WIDTH"),l=(0,o.Z)("SET_STROKE_COLOR"),u=(0,o.Z)("SET_FONT_SIZE"),d=(0,o.Z)("SET_SHAPE_TO_ADD")},4440:function(e,n,t){"use strict";var o;t.d(n,{k:function(){return o},P:function(){return r}}),function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(o||(o={}));var r=function e(n){var t=n.type,r=void 0===t?o.Success:t,i=n.message;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.created=new Date,this.type=r,this.message=i}},3489:function(e,n,t){"use strict";t.d(n,{c:function(){return r},F:function(){return i}});var o=t(8231),r=(0,o.Z)("SHOW_NOTIFICATION"),i=(0,o.Z)("REMOVE_NOTIFICATION")},6885:function(e,n,t){"use strict";t.d(n,{r:function(){return o}});var o=function(){try{return!1}catch(e){}return!1}()},27:function(e,n,t){"use strict";t.d(n,{Ak:function(){return o},UZ:function(){return r},qP:function(){return p}});var o,r,i=t(6486),a=t.n(i),c=t(6885);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.MenuClick="MenuClick",e.GlobalInteraction="GlobalInteraction"}(o||(o={})),function(e){e.AddArrow="add Arrow",e.AddRect="add Rect",e.AddRectRough="add RectRough",e.AddEllipse="add Ellipse",e.AddEllipseRough="add EllipseRough",e.AddText="add Text",e.AddSelectRect="add SelectRect",e.CopyAll="copy all",e.OpenImage="open image",e.ApplyCrop="apply crop",e.SaveImage="save image",e.ChangeColor="change color",e.ChangeFontSize="change font size",e.ChangeStrokeWidth="change stroke width",e.Sketchify="sketchify",e.BringFront="bring to front",e.SendBack="send to back",e.AboutPage="about page",e.GithubPage="github page",e.DropImage="drop image",e.ShownMobileWarning="ShownMobileWarning"}(r||(r={}));var u="",d=function(e){return"".concat(e.eventAction,"_").concat(e.eventCategory)},p=a().debounce((function(e){if(!e.doNotRepeat||u!==d(e)){var n={event_category:e.eventCategory};e.eventLabel&&(n.event_label=e.eventLabel),a().isNumber(e.eventValue)&&(n.value=e.eventValue),a().isBoolean(e.nonInteraction)&&(n.non_interaction=e.nonInteraction);var t,o=["event",'"'.concat(e.eventAction,'"'),n];if(c.r)(t=console).log.apply(t,l(o));else try{gtag.apply(void 0,l(o))}catch(r){console.warn(r)}u=d(e)}}),100)},3425:function(e,n,t){"use strict";t.d(n,{t:function(){return r}});var o=JSON.parse('{"menu.openImage":"Open Image","menu.addArrow":"Add Arrow","menu.addRect":"Add Rectangle","menu.addEllipse":"Add Ellipse","menu.addText":"Add Text","menu.select":"Select","menu.resize":"Resize","menu.save":"Save","menu.copyAll":"Copy All","menu.sketchify":"Sketchify","menu.unsketchify":"Unsketchify","menu.about":"About","menu.blank":"Blank","menu.bringFront":"Bring To Front","menu.sendBack":"Send To Back","all-copied":"All Copied","back":"Back","how-to-start":"Start by dropping an image here (or draw a shape)"}'),r=function(e){return o.hasOwnProperty(e)?o[e]:e}},484:function(e,n){"use strict";n.Z=function(e){return new Promise((function(n){var t=new FileReader;t.onload=function(t){var o=new Image;o.addEventListener("load",(function(){var t=e.name.split(".").slice(0,-1).join(".");n({image:o,name:t})})),o.src=t.target.result},t.readAsDataURL(e)}))}},3710:function(e,n,t){"use strict";t.d(n,{P:function(){return r.Z},Q:function(){return o}});var o,r=t(8176);!function(e){e.BringToFront="BringToFront",e.SendToBack="SendToBack"}(o||(o={}))},8176:function(e,n){"use strict";var t;!function(e){e.SHAPE="Shape",e.ARROW="Arrow",e.TEXT="Text",e.RECT="Rect",e.IMAGE="Image",e.RECT_ROUGH="RectRough",e.ELLIPSE="Ellipse",e.ELLIPSE_ROUGH="EllipseRough",e.SELECT_RECT="SelectRect"}(t||(t={})),n.Z=t},7313:function(){throw new Error("Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> .Button {\n|   display: inline-block;\n|   font-weight: 400;")},9168:function(){throw new Error("Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> .ClearButton {\n|   border: none;\n|   margin: 0;")},751:function(){throw new Error("Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> .FormButtonsRow {\n|   margin-right: 14px;\n|   display: inline-block;")},894:function(){throw new Error("Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> .FormGroup {\n|   margin-bottom: 1rem;\n| }")},1082:function(){throw new Error("Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> .form-input {\n|   display: block;\n|   width: 100%;")},3908:function(){throw new Error("Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> .ImgIconWrapper {\n|   width: var(--img-icon-width);\n|   height: var(--img-icon-height);")},6810:function(){throw new Error("Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> .MobileWarning {\n|   position: absolute;\n|   top: 0;")},2803:function(){throw new Error("Module parse failed: Unexpected character '@' (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> @transition: opacity 0.2s;\n| \n| .modal {")},5662:function(){throw new Error("Module parse failed: Unexpected character '@' (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> @import './popup-variables';\n| \n| .popup {")},18:function(){throw new Error("Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> .popup-buttons-container {\n|   padding-top: 50px;\n|   text-align: right;")},996:function(){throw new Error("Module parse failed: Unexpected character '@' (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> @import './popup-variables';\n| \n| .buttonClear() {")},8459:function(){throw new Error("Module parse failed: Unexpected character '@' (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> @import '../Button/ClearButton';\n| @import './TopMenuItem';\n| ")},9689:function(){throw new Error("Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> .MenuInput {\n|   display: inline-block;\n|   border: 1px solid #b7b7b7;")},2664:function(){throw new Error("Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> .SeparatorWrapper {\n|   height: 30px;\n|   padding: 4px 0;")},760:function(){throw new Error("Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> .SubMenu {\n|   background-color: var(--main-menu-color);\n|   border: 1px solid var(--main-menu-item-border-color);")},4089:function(){throw new Error("Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> .TopMenuItem {\n|   background-color: var(--main-menu-color);\n|   display: inline-block;")},2995:function(){throw new Error("Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> .Menu {\n|   padding: 4px 15px;\n|   background-color: var(--main-menu-color);")},3488:function(){throw new Error("Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> .MIStrokeColor__Current {\n|   display: inline-block;\n|   width: 19px;")},7236:function(){throw new Error("Module parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> .MIStrokeWidth__Content {\n|   display: inline-block;\n| }")},3759:function(){throw new Error("Module parse failed: Unexpected character '@' (2:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n| // I'm not using all bootstrap, only grid and normalizer\n> @import '~bootstrap/dist/css/bootstrap-grid.css';\n| @import '~bootstrap/dist/css/bootstrap-reboot.css';\n| ")}},function(e){e.O(0,[774,662,262,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);